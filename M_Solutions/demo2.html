<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/monika.css">
    <style>
        .m_rtt_container {
            display: flex;
            flex-wrap: wrap;
        }

        .m_rtt_filter {
            flex: 1;
            max-width: 250px;
            padding: 15px;
        }

        .m_rtt_main-content {
            flex: 3;
            padding: 15px;
        }

        .m_rtt_top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .m_rtt_result-count {
            font-size: 18px;
            font-weight: bold;
        }

        .m_rtt_sort-search {
            display: flex;
            gap: 10px;
        }

        .m_rtt_sort,
        .m_rtt_search {
            padding: 8px;
            font-size: 16px;
        }

        .m_rtt_card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .m_rtt_card {
            flex: 0 0 30%;
            box-sizing: border-box;
            margin-bottom: 20px;
        }

        .m_rtt_accordion-item {
            margin-bottom: 10px;
        }

        .m_rtt_accordion-button {
            width: 100%;
            padding: 10px;
            text-align: left;
            cursor: pointer;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
        }

        .m_rtt_accordion-content {
            display: none;
            padding: 10px;
            border: 1px solid #ddd;
        }

        .m_rtt_accordion-content label {
            display: block;
            margin-bottom: 5px;
        }

        .m_rtt_accordion-button.active+.m_rtt_accordion-content {
            display: block;
        }

        .m_rtt_pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        .m_rtt_pagination button,
        .m_rtt_page-input {
            padding: 8px;
            font-size: 16px;
            margin: 0 5px;
        }

        .m_rtt_page-input {
            width: 50px;
            text-align: center;
        }

        .m_rtt_total-pages {
            font-size: 16px;
        }

        .m_rtt_resFil {
            display: none;
        }

        .m_rtt_results-count,
        .m_rtt_results-count {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .m_rtt_filter .m_rtt_close-btn{
            display: none;
        }


        @media screen and (max-width: 1024px) {
            .m_rtt_card {
                flex: 0 0 45%;
                /* 2 cards per row for tablet screens */
            }

            .m_rtt_filter {
                display: none;
            }

            .m_rtt_resFil {
                display: block;
            }

            .m_rtt_filter.off-canvas {
                display: block;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: white;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
                overflow-y: auto;
                z-index: 1000;
                padding: 20px;
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
            }

            .m_rtt_filter.off-canvas.show {
                transform: translateX(0);
            }

            .m_rtt_filter .m_rtt_close-btn {
                position: absolute;
                top: 10px;
                right: 10px;
                background: #f5f5f5;
                border: none;
                padding: 10px;
                cursor: pointer;
                font-size: 18px;
                display: block;
            }
        }

        @media screen and (max-width: 768px) {
            .m_rtt_card {
                flex: 0 0 100%;
            }
        }
    </style>
</head>

<body>
    <div class="m_rtt_top-bar">
        <div class="m_rtt_results-count">
            <!-- The number of results will be shown here -->
        </div>
        <div class="m_rtt_sort-search">
            <select class="m_rtt_sort">
                <option value="az">A-Z</option>
                <option value="za">Z-A</option>
                <option value="newest">Newest</option>
                <option value="oldest">Oldest</option>
            </select>
            <input type="text" placeholder="Search this content" class="m_rtt_search" />
            <button class="m_rtt_resFil">Filter by</button>
        </div>
    </div>
    <div class="m_rtt_container">
        <div class="m_rtt_filter off-canvas">
            <button class="m_rtt_close-btn">&times;</button>
            <div class="m_rtt_accordion">
                <h3>Filter by</h3>
                <div class="m_rtt_accordion-item">
                    <button class="m_rtt_accordion-button">Topics</button>
                    <div class="m_rtt_accordion-content">
                        <label><input type="checkbox" value="Before you buy" /> Before you buy</label>
                        <label><input type="checkbox" value="Tips & Tricks" /> Tips & Tricks</label>
                        <label><input type="checkbox" value="Creating" /> Creating</label>
                        <label><input type="checkbox" value="Gaming" /> Gaming</label>
                    </div>
                </div>
                <div class="m_rtt_accordion-item">
                    <button class="m_rtt_accordion-button">Usage</button>
                    <div class="m_rtt_accordion-content">
                        <label><input type="checkbox" value="Entertainment" /> Entertainment</label>
                        <label><input type="checkbox" value="Mobility" /> Mobility</label>
                        <label><input type="checkbox" value="PC Performance" /> PC Performance</label>
                        <label><input type="checkbox" value="PC Security" /> PC Security</label>
                    </div>
                </div>
                <div class="m_rtt_accordion-item">
                    <button class="m_rtt_accordion-button">Form Factor</button>
                    <div class="m_rtt_accordion-content">
                        <label><input type="checkbox" value="Desktop" /> Desktop</label>
                        <label><input type="checkbox" value="Laptop" /> Laptop</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="m_rtt_main-content">


            <div class="m_rtt_card-container">
                <!-- Dynamic card rendering will occur here -->
            </div>

            <div class="m_rtt_botmCon d-flex align-items-center justify-content-center gap-3">
                <div class="m_rtt_results-count2">
                    <!-- The number of results will be shown here -->
                </div>
                <div class="m_rtt_pagination">
                    <button class="m_rtt_prev-page">Previous</button>
                    <input type="number" class="m_rtt_page-input" min="1" />
                    <span class="m_rtt_total-pages"></span>
                    <button class="m_rtt_next-page">Next</button>
                </div>
                <div>
                    <p class="m_rtt_viewAll">View All</p>
                    <p class="m_rtt_viewless" style="display: none;">View Less</p>
                </div>
            </div>
        </div>
    </div>

</body>

</html>
<script>
    // Sample card data
    const cardsData = [
        {
            title: "aaaaaaaaaaaaaaaaaaa",
            description: "Transferring files from PC to PC can be done quickly and securely...",
            image: "path-to-image1.jpg",
            category: "Tips & Tricks",
            date: "2024-08-15"
        },
        {
            title: "vvvvvvvvvvvvvvvvvvvvvvv",
            description: "Learn different methods for sending and receiving text messages...",
            image: "path-to-image2.jpg",
            category: "Creating",
            date: "2024-08-12"
        },
        {
            title: "kkkkkkkkkkkkkkkkkkk",
            description: "Learn different methods for sending and receiving text messages...",
            image: "path-to-image2.jpg",
            category: "Creating",
            date: "2024-08-12"
        },
        {
            title: "rrrrrr",
            description: "Learn different methods for sending and receiving text messages...",
            image: "path-to-image2.jpg",
            category: "Creating",
            date: "2024-08-12"
        },
        {
            title: "How to Send and Receive Text Messages from Your PC",
            description: "Learn different methods for sending and receiving text messages...",
            image: "path-to-image2.jpg",
            category: "Creating",
            date: "2024-08-12"
        },
        {
            title: "How to Send and Receive Text Messages from Your PC",
            description: "Learn different methods for sending and receiving text messages...",
            image: "path-to-image2.jpg",
            category: "Creating",
            date: "2024-08-12"
        },
        {
            title: "How to Send and Receive Text Messages from Your PC",
            description: "Learn different methods for sending and receiving text messages...",
            image: "path-to-image2.jpg",
            category: "Entertainment",
            date: "2024-08-12"
        }
        // Add more cards as needed
    ];
    const cardsPerPage = 6; // Number of cards to display per page
    let currentPage = 1; // Starting page
    const totalPages = Math.ceil(cardsData.length / cardsPerPage); // Total number of pages

    function updateResultsCount(data) {
        const countElement = document.querySelector('.m_rtt_results-count');
        countElement.textContent = `${data.length} result${data.length !== 1 ? 's' : ''}`;
        const countElement2 = document.querySelector('.m_rtt_results-count2');
        countElement2.textContent = `${data.length} result${data.length !== 1 ? 's' : ''}`;
    }

    // Function to render cards based on the current page
    function renderPaginatedCards(page) {
        const startIndex = (page - 1) * cardsPerPage;
        const endIndex = startIndex + cardsPerPage;
        const paginatedData = cardsData.slice(startIndex, endIndex);

        updateResultsCount(cardsData); // Update the results count based on the filtered data
        renderCards(paginatedData);

        // Update pagination input and total pages display
        document.querySelector('.m_rtt_page-input').value = page;
        document.querySelector('.m_rtt_total-pages').textContent = `of ${totalPages}`;
    }

    // Event listeners for pagination controls
    document.querySelector('.m_rtt_prev-page').addEventListener('click', () => {
        if (currentPage > 1) {
            currentPage--;
            renderPaginatedCards(currentPage);
        }
    });

    document.querySelector('.m_rtt_next-page').addEventListener('click', () => {
        if (currentPage < totalPages) {
            currentPage++;
            renderPaginatedCards(currentPage);
        }
    });

    document.querySelector('.m_rtt_page-input').addEventListener('input', (event) => {
        let page = parseInt(event.target.value);
        if (page >= 1 && page <= totalPages) {
            currentPage = page;
            renderPaginatedCards(currentPage);
        } else {
            event.target.value = currentPage; // Revert to current page if out of range
        }
    });

    // Initial render
    renderPaginatedCards(currentPage);

    let viewAllMode = false; // Flag to determine if "View All" mode is active

    function renderCards(data) {
        const container = document.querySelector('.m_rtt_card-container');
        container.innerHTML = '';
        data.forEach(card => {
            const cardElement = document.createElement('div');
            cardElement.className = 'm_rtt_card';
            cardElement.innerHTML = `
            <img src="${card.image}" alt="${card.title}" />
            <h3>${card.title}</h3>
            <p>${card.description}</p>
        `;
            container.appendChild(cardElement);
        });
    }

    function showAllCards() {
        viewAllMode = true;
        renderCards(cardsData); // Render all cards
        document.querySelector('.m_rtt_pagination').style.display = 'none'; // Hide pagination
        document.querySelector('.m_rtt_viewAll').style.display = 'none'; // Hide "View All"
        document.querySelector('.m_rtt_viewless').style.display = 'block'; // Show "View Less"
    }

    function showPaginatedCards() {
        viewAllMode = false;
        renderPaginatedCards(currentPage); // Render cards based on current page
        document.querySelector('.m_rtt_pagination').style.display = 'flex'; // Show pagination
        document.querySelector('.m_rtt_viewAll').style.display = 'block'; // Show "View All"
        document.querySelector('.m_rtt_viewless').style.display = 'none'; // Hide "View Less"
    }

    document.querySelector('.m_rtt_viewAll').addEventListener('click', showAllCards);
    document.querySelector('.m_rtt_viewless').addEventListener('click', showPaginatedCards);

    document.querySelectorAll('.m_rtt_accordion-button').forEach(button => {
        button.addEventListener('click', function () {
            this.classList.toggle('active');
            const content = this.nextElementSibling;
            if (content.style.display === "block") {
                content.style.display = "none";
            } else {
                content.style.display = "block";
            }
        });
    });

    document.querySelector('.m_rtt_sort').addEventListener('change', function () {
        sortCards(this.value);
    });

    document.querySelector('.m_rtt_search').addEventListener('input', function () {
        const searchTerm = this.value.toLowerCase();
        const filteredCards = cardsData.filter(card => card.title.toLowerCase().includes(searchTerm));
        renderCards(filteredCards);
    });

    document.querySelectorAll('.m_rtt_filter input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', filterCards);
    });

    // Initial render based on the default mode
    if (viewAllMode) {
        showAllCards();
    } else {
        renderPaginatedCards(currentPage);
    }

    // Filtering and sorting functions (unchanged)
    function filterCards() {
        const selectedFilters = Array.from(document.querySelectorAll('.m_rtt_filter input[type="checkbox"]:checked')).map(input => input.value);
        const filteredCards = cardsData.filter(card => selectedFilters.includes(card.category) || selectedFilters.length === 0);
        renderCards(filteredCards);
    }

    function sortCards(order) {
        const sortedCards = [...cardsData].sort((a, b) => {
            if (order === 'az') return a.title.localeCompare(b.title);
            if (order === 'za') return b.title.localeCompare(a.title);
            if (order === 'newest') return new Date(b.date) - new Date(a.date);
            if (order === 'oldest') return new Date(a.date) - new Date(b.date);
        });
        renderCards(sortedCards);
    }

    // Show the off-canvas filter when the button is clicked
    document.querySelector('.m_rtt_resFil').addEventListener('click', () => {
        document.querySelector('.m_rtt_filter').classList.add('show');
    });

    // Hide the off-canvas filter and apply filters when the close button is clicked
    document.querySelector('.m_rtt_filter .m_rtt_close-btn').addEventListener('click', () => {
        const selectedFilters = Array.from(document.querySelectorAll('.m_rtt_filter input[type="checkbox"]:checked')).map(input => input.value);
        const filteredCards = cardsData.filter(card => selectedFilters.includes(card.category) || selectedFilters.length === 0);
        renderCards(filteredCards);
        document.querySelector('.m_rtt_filter').classList.remove('show');
    });


</script>