<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1000 Machines in a Simulation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link href=" https://fonts.cdnfonts.com/css/intel-clear " rel="stylesheet">
    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/yatri.css">
    <link rel="stylesheet" href="../css/rushita.css">
    <link rel="stylesheet" href="../css/rushita_automotive.css">

    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <style>
        * {
            font-family: 'Intel Clear', sans-serif;
        }
        .footnote{
            color: #bbb !important;
        }
    </style>
</head>

<body>
    <div id="navbar"></div>
    <section class="m_ai_tdrop">
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Developers
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Developer-Zone.html">Overview</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Control-flow-Enforcement_Technology.html">Topics
                        & Technologies</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Development-Tools.html">Tools</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Hardware-Platforms.html">Hardware
                        Platforms</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Resource-Documentation-Center.html">Resources &
                        Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_Learn.html">Learn</a>
                </li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Communities-and-Events.html">Community & Events</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Developer-Programs.html">Developer Programs</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_Get-Help.html">Get
                        Help</a></li>
            </ul>
        </div>


        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Topics & Technologies
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/Developer-Programs/ds_Ai-Development.html">Artificial Intelligence</a></li>
                <li><a class="dropdown-item m_dropActive" href="../VK_developers/VK_ai_pc_development.html">AI PC Development</a></li>
                <li><a class="dropdown-item m_dropActive" href="../VK_developers/VK_developer_client_app.html">Client Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_Cloud.html">Cloud</a></li>
                <li><a class="dropdown-item m_dropActive" href="../VK_developers/VK_GPU_Research_Publications.html">GPU Research</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_Edge-Computing.html">Edge Computing</a></li>
                <li><a class="dropdown-item m_dropActive" href="..VK_developers/VK_developer_game_development.html">GameDev</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_HPC-Development.html">HPC</a></li>
                <li><a class="dropdown-item m_dropActive" href="..rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Data-Center-Solutions.html">Data Center</a></li>
                <li><a class="dropdown-item m_dropActive" href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Firmware.html">Firmware</a></li>
                <li><a class="dropdown-item m_dropActive" href="../vaidikhtml/ai_accelerator_intel_network_engines_find_network_developer_resources.html">Networking</a></li>
                <li><a class="dropdown-item m_dropActive" href="../Product/B19_opensourceproject.html">Open Ecosystem</a></li>
                <li><a class="dropdown-item m_dropActive" href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Persistent-Memory.html">Persistent Memory</a></li>
                <li><a class="dropdown-item m_dropActive" href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Intel-PAT.html">Intel® Platform Analysis Technology</a></li>
                <li><a class="dropdown-item m_dropActive" href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Runtime-Languages.html">Runtime Languages</a></li>
                <li><a class="dropdown-item m_dropActive" href="../M_Solutions/s_Edge_Developer_Community.html">Software Security Guidance</a></li>
                <li><a class="dropdown-item m_dropActive" href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Storage.html">Storage</a></li>

            </ul>
        </div>
        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                GameDev
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technical Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Partners</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">XᵉSS2</a></li>
            </ul>
        </div>
        <div class="m_ai_shlash">/</div>
        <div class="m_ai_httl">1000 Machines in a Simulation</div>
    </section>
    <section class="k_bgblue py-4">
        <div class="k_container11">

            <div class="row  g-4">
                <div class="col-md-10 col-sm-12 mx-0 text-white align-content-center k_tstartauto k_text2 px-0 mx-0">
                    <h2 class="fw-lighter fs-3   mb-2 k_marketsmall">
                        2019 Unreal* Open Day—Intel to Create a Game Development Ecosystem along with Unreal Engine*
                    </h2>
                    <div id="hiddenContent">

                        <div class="d-md-flex gap-5 mt-4 k_dwrap">
                            <div class="k_mdflex ">
                                <p>ID</p>
                                <p>658930</p>

                            </div>
                            <div class="k_mdflex ">
                                <p>Updated</p>
                                <p style="justify-content: end;">4/11/2018</p>
                            </div>
                            <div class="k_mdflex ">
                                <p>Version</p>
                                <p style="justify-content: end;">Latest</p>
                            </div>
                            <div class="k_mdflex ">
                                <p>&nbsp;</p>
                                <p style="justify-content: end;">Public</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
    </section>
    <section class="k_space k_spacenone">
        <div class="k_container11">
            <div class="row  g-3">
                <div class="float-end k_bignone" style="padding-left:70%;">
                    <div>
                        <a href="#" class="fs-4"><i class="fa-solid fa-print mx-3 k_icon0"></i></a>
                        <a href="#" class="fs-4"> <i class="fa-regular fa-envelope k_icon0"></i></a>

                    </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12">
                    <p class="k_plink1"><span>By</span>
                        <a href="#">Jakob Engblom</a>
                </p>
                </div>
                <div class="col-lg-8 col-md-7 col-sm-12  k_16smpx k_width75">
                    <div class="float-end mx-3 k_smnone">
                        <div>
                            <a href="#" class="fs-4"><i class="fa-solid fa-print mx-3 k_icon0"></i></a>
                            <a href="#" class="fs-4"> <i class="fa-regular fa-envelope k_icon0"></i></a>
                        </div>
                    </div>
                    <div class=" k_smpaddnone k_smpaddnone1 pt-5">
                        <div class="my-5 col-sm-12 col-md-9 ">
                            <img src="../img/rushita_img/simulation2.png" alt="">
                        </div>
                        <p>This is the second “Wind River® Simics® at 20” blog featuring feats from the past and how they reflect into current technology and best practices.</p>
                        <h3 class="mb-3">A “kilo-machine”</h3>
                        <p class="k_plink1 k_intext1blue1"><img class="half-float-right" src="../img/rushita_img/simulation1.png">Back in 2004, Simics was being developed by the startup company Virtutech*, and the <a href="#">Embedded Systems Conference (ESC)</a> was the place to show off your tools for embedded developers. For some years in the early 2000s, ESC was full of virtual platform tools targeting developers in the embedded market.&nbsp; Pretty much all the small companies that exhibited at ESC 2004 have since been acquired by bigger firms, but a lot of the products and technologies live on. Apart from Virtutech, I recall there was Axys* (whose technology now lives on at ARM*), Virtio* (now part of Cadence*), VaST* (now part of Synopsys*), and probably a few more.</p>
                        <p>To stand out from the crowd, Virtutech wanted to do something more than just show a virtual board booting a real-time operating system (RTOS) outputting “exciting” printouts to a serial console. In the end, we went for networking as a stand-out feature, and we cooked up an insane demo: a simulation containing 1,002 target machines.</p>
                        <h3>Getting to more than 1000</h3>
                        <p>The target system setup consisted of 1000 Internet Relay Chat (IRC) clients running under script control, connected to an IRC server, along with one graphical IRC client running on a Sun* Solaris* graphical desktop displaying the chat traffic for the demo audience to see. This ran on eight rack-mounted servers that we put in our booth on the show floor—a single screen showed all the output and command lines of all the Simics instances. It looked nice, as you can see below in a photo of the ESC 2004 Virtutech booth.</p>
                        <div class="my-5 col-sm-12 col-md-9">
                            <img src="../img/rushita_img/simulation3.png" alt="" width="100%">
                        </div>
                        <p><em>Photo by Jakob Engblom</em></p>
                        <p>The simulation design involved running 13 separate Simics processes linked together in a single virtual network, using the Simics distributed simulation technology, “Simics Central.”&nbsp; The block diagram below illustrates the setup (as shown in the slide used to explain it at the demo booth).</p>
                        <div class="my-5 col-sm-12 col-md-9">
                            <img src="../img/rushita_img/simulation4.png" alt="" width="100%">
                        </div>
                        <p class="k_plink1 k_intext1blue1">Ten of the Simics processes each simulated 100 <a href="#">PowerPC* 440GP-based targets</a>. These targets each ran a Montavista* Linux* instance. On top of that, a scripted IRC client sent traffic to the IRC server. The IRC server ran on a <a href="#">PowerPC 750</a>-based target, also running Montavista Linux. The interactive client ran on Sun* Solaris* 9, on a virtual SunFire* 3500 UltraSPARC* 64-bit target system. Finally, a thirteenth Simics process ran the Simics Central¹ network simulation.</p>
                        <p>Each Simics process had its own dedicated host processor (this was before multicore processors became common). The scripted clients were run on five dual-processor Linux hosts, which were considered really cool hardware for the day (the top five servers shown in the photo above). The other three servers had just one processor each, providing a total of 13 host processors to run 13 Simics processes (containing 1002 simulated target processor cores in total).</p>
                        <p>The screen-capture below shows what the demo looked like as it ran.</p>
                           <div class="my-5 col-sm-12 col-md-9">
                            <img src="../img/rushita_img/simulation5.png" alt="" width="100%">
                        </div>
                        <p>In the upper-left corner, we have the Simics command-lines for the 10 processes that run 100 machines each. Below that in yellow is the serial console of the Sun server, and below that in black is the serial console of the PowerPC 750 machine. Down at the right is the graphics console of the Sun server, with the graphical IRC client showing what the various IRC clients are saying.</p>
                        <h3>Scaling up the simulation</h3>
                        <p class="k_plink1 k_intext1blue1">In 2004, Simics technology in had gone through some major updates compared to the <a href="#">1998 version that was discussed in a previous blog</a>.&nbsp; Just-in-Time (JIT) compilation technology had become available, and with a bit of tuning, Simics could run a PowerPC target at the speed of one giga-instruction per second (GIPS).</p>
                        <div class="my-5 col-sm-12 col-md-9">
                            <img src="../img/rushita_img/simulation6.png" alt="" width="100%">
                        </div>
                        <p>The speed provided by the JIT gave a good starting point to run a lot of machines in parallel. Another critical component was the aggressive exploitation of hypersimulation (also known as idle-loop optimization), where Simics skips ahead when it realizes that a target processor is not doing anything useful. The scripted clients in the setup were mostly idle, allowing them to run at a reasonable speed, even when multiplexed 100 times onto a single host processor.</p>
                        <p>The next problem for scaling was memory usage for the PowerPC 440GP machines that made up the bulk of the configuration. Even if each target machine had only 128MB of RAM, 100 of them would theoretically require 12GB, which was beyond the realm of possibility for hosts at the time. However, the machines all shared a large part of their state, since they all ran the same OS and software stack. That could be exploited to reduce the amount of state that had to be stored on the host.</p>
                        <p>A single instance of the PowerPC 440GP machine was booted to a point where it was ready to connect to the network, and its state was saved to a Simics checkpoint. With some clever hacks to Simics, all 100 machines in a process would share the same memory and disk images from the checkpoint state. Only a small amount of additional state was needed to make each machine unique – primarily network addresses and IRC user names. In this way, 100 machines could be shoe-horned into a single Simics process with some special programming. Today, Simics can detect such shared state using a feature known as page sharing; no hacking or tricks are needed.</p>
                        <h3>Anything else?</h3>
                        <p class="k_plink1 k_intext1blue1">We had some other demos on the floor that year: there were Simics models running various OSs, including an Intel® Pentium® 4-based PC with Voodoo* graphics running <a href="#">Red Hat* Linux*</a> 7.3 (note that this is the old numbering scheme for Red Hat Linux, not the current Red Hat Enterprise Linux). There was a bit of tooling, including debugging a target system across its Linux operating system, glibc, and target applications using gdb (the GNU debugger connected directly to Simics). There was a router demo with four PCs, each with four separate network interface cards (NICs) connected to form a redundant network. That demo was used for a very long time, afterwards.</p>
                        <p>Overall, Simics made a big splash at ESC 2004. Our exhibit showed how far the technology had come at the time, and looking back from 2018, how much more was still to come…</p>
                        <h3>A kilo-machine in 2018</h3>
                        <p>The 1002-machine demo that was state-of-the-art in 2004 can be repeated with a lot less effort today. With the advent of multicore processors, running 1000 target machines can be done on a single server.</p>
                        <h3 style="text-align:center">“…simulating a thousand machines… as easy as writing a script that creates a machine in a network, and then iterating it 1000 times. Give the script a parameter to select the number of machines to run, and then click OK…”</h3>
                        <p class="k_plink1 k_intext1blue1">A normal server today has 12 or <a href="#">more hardware cores per socket</a>, plus hyperthreading to provide additional execution resources; that is equivalent to the core count of our 2004 rack, but inside a single processor socket, and then some.</p>
                        <p>There is also no need to start up multiple Simics processes to run a massive virtual network. Using Simics Multi-machine Accelerator, Simics now can run separate target machines connected over a network, in parallel, inside a single multithreaded Simics process—a feature introduced with Simics 4.0 in 2008.</p>
                        <p>Thus, simulating a thousand machines in 2018 is as easy as writing a script that creates a machine in a network, and then iterating it 1000 times. Give the script a parameter to select the number of machines to run, and then click OK, as shown in the screen image below.</p>
                        <div class="my-5 col-sm-12 col-md-9">
                            <img src="../img/rushita_img/simulation7.png" alt="" width="100%">
                        </div>
                        <p>The simulation resulting from this example contains some 238,000 individual Simics simulation objects (such as processor cores, memories, devices, or network links). Simics will typically take advantage of all the host cores in the host system in order to run a parallel simulation like this as quickly as possible.</p>
                        <p>Out of curiosity, we brought up the PowerPC 440GP-based target system that was used in 2004 in the latest version of Simics. Booting 1000 machines inside a single Simics process took about 14 real-world minutes on a quad-core (eight threads) host, using 40GB of RAM. The target machines required about 14 virtual seconds to boot, meaning that the slowdown for the 1000 machine setup was around 60—a very good result for a network of this scale, on a rather modest host.</p>
                        <p>Using the page-sharing feature of Simics mentioned above, we could remove roughly half the memory. That is, when booting the machines separately like this, the effective shared state is about half the machine state—for example, 20MB is common with other machines, and 20MB is different. Note that this is not entirely comparable to the 2004 demo, since each machine is booted separately from scratch, while in 2004, we separated the machines post-boot. Thus, more state would be expected to be different as the differences are introduced earlier in the boot process.</p>
                        <h3>Why simulate networks?</h3>
                        <p>Why did we select a network for our ESC 2004 demo? Because that was what our customer base was asking for! Simics customers had started to build very large target systems on Simics, as they wanted to simulate racks and networks of racks. At the same time, the concept known today as the Internet of Things² (IoT) was beginning to gather interest, creating a need to simulate large numbers of nodes (which we discussed in a 2005 paper).</p>
                        <p class="k_plink1 k_intext1blue1">Large-scale network simulation is still something Simics does well. An example of Simics use for IoT was presented a couple of years ago by Wind River, where <a href="#">Simics simulated a 1000-node IoT network for testing</a>.</p>
                        <p>This look back to 2004 illustrates how Simics keeps scaling with the needs of new applications, and how previously brittle hacks have evolved into stable, standard product features over time. Simics architecture and performance is not standing still—it is continuously improving over time.&nbsp;</p>
                        <p>Look forward to more looks back, as we keep celebrating 20 years of commercial Simics.&nbsp;</p>
                        <hr>
                        <p><em>* <em>Other names and brands may be claimed as the property of others.</em></em></p>
                        <p><em>¹ Simics Central was replaced by a new distributed simulation mechanism in Simics 4.0, and it is no longer part of the Simics product.&nbsp; You can still find mentions of it around the Internet, but it is not how Simics works today.&nbsp;</em></p>
                        <p class="k_plink1 k_intext1blue1"><em>²&nbsp;According to <a href="#">Google Trends</a>, the term “IoT” started to become popular around 2012. In 2004-2005, the concept of lots of little computers spread in the physical world was usually called “sensor networks”.</em></p>
                    </div>
                </div>
            </div>
    </section>
    <section class="my-4">
        <div class="k_container11">
            <div class="row">
                <div>
                    <hr class="mb-5">
                    <p>Product and Performance Information
                    <p>
                    <div class="k_plink1 k_intext1blue1"><sup>1</sup>Performance varies by use, configuration and other
                        factors. Learn more at &nbsp;<a href="#">www.Intel.com/PerformanceIndex.</a>.
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="footer"></div>
    <script>
        // navbar include  
        fetch('../y_index/y_navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });
        // footer include 
        fetch('../y_index/y_footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="../js/jquery-3.7.1.js"></script>

    <script src="../js/owl.carousel.min.js"></script>
    <script src="../js/rushita.js"></script>
</body>

</html>