<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimized Offline Large-Scale Item Search with BigDL</title>

    <!-- font family -->
    <link href="https://fonts.cdnfonts.com/css/intel-clear" rel="stylesheet">

    <link rel="stylesheet" href="/css/dk_developer_edge_iot_5G_industrial_automation_see_all_Intelligent_connection_management_for_automated_handover.css">
    <link rel="stylesheet" href="/css/rushita_automotive.css">

    <!-- header footer -->
    <link rel="stylesheet" href='/css/yatri.css'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

</head>

<style>
    .dk_color1{
        color: #069 !important;
        font-weight: 700 !important;
    }
    .dk_color2{
        color: blue !important;
    }
    .dk_color3{
        color: #b24501;
    }
    .dk_color4{
        color: #008200 !important;
    }
    
    @media(max-width:1200px){
    .dk_optimized_off_img{
        width: 100% !important;
        height: 100% !important;
    }
    }
</style>

<body>
    <!-- header -->
    <div id="navbar"></div>

    <section class="m_ai_tdrop">
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Developers
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Topics & Technologies</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Artificial Intelligence</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Frameworks & Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">AI PC</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Performance Data</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technical Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Client Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Business</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Cloud</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Performance Benchmarks</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Community</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">GPU Research</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Researchers</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Publications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Samples</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Edge Computing</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FlexRAN™ Reference Architecture</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Kiosk Peripheral Management Utility</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Device Management Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Go to Market with the OpenVINO™ Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Optimized Inference at the Edge</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Self-Paced Training for the OpenVINO™ Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Hardware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">All Hardware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">AIxboard Developer Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits with Intel® Core™ Ultra Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits with Intel Atom® x7000E Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits with 14th Generation Intel® Core™ Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits with 13th Generation Intel® Core™ Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits Based on 12th Generation Intel® Core™ Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits Based on 11th Generation Intel® Core™ Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits Based on 10th Generation Intel® Core™ Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Hinj* IoT Sensor Hub Development Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Cyclone® 10 LP FPGA</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® IoT RFP Ready Kits</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Movidius™ VPU</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel vPro® Platform for Retail</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Kits with Intel® Xeon® D-2100 Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Kits with 4th Gen Intel® Xeon® Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">NetSec SD-WAN Developer Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Nezha Developer Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Snō + SnōMākr Development Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Terasic DE10-Nano Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">XLR8* Development Board</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Edge AI Reference Kits</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Smart Meter Scanning</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intelligent Queue Management</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technical Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">GameDev</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technical Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Partners</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">XᵉSS2</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">HPC</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technical Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Data Center</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools & Libraries</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Firmware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">coreboot*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Intelligent Test System</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Unified Extensible Firmware Interface (UEFI)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">SMI Transfer Monitor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Networking</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Data Plane Development Kit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Ecosystem</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Projects</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">ACPI Component Architecture (ACPICA)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Assistive Context-Aware Toolkit (ACAT)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Celadon</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">C for Metal SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">pm-graph</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Features</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Kernel Guard Technology</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Linux* Kernel Performance</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Key Management Reference Application</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Multi-Rail Power Sequencer and Monitor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Data Center Diagnostic Project 🡭</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OP-TEE* for Intel® Architecture</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Linux* Stacks for Intel® Software Guard Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® x86 Architecture Distribution of Trusty* OS</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Source Media Framework</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">NumaTOP</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® QuickAssist Technology</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Graphics Numerical Hardware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Guides & Tutorials</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Blog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">About</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Podcast</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Persistent Memory</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Platform Analysis Technology</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Runtime Languages</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Software Security Guidance</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Advisory Guidance</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Best Practices</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Disclosure Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Feature Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">More Information</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Storage</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Software Catalog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">About</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">oneAPI</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Data Parallel C++/SYCL*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Toolkits</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Base Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI HPC Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® System Bring-up Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tech Articles & How-Tos</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">News Updates</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Webinars</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Components</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">All Components</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Cryptography Primitives Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Security and Privacy</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FIPS</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Post-Quantum</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Collective Communications Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Data Analytics Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Deep Neural Network Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI DPC++/C++ Compiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Legacy Intel® C++ Compiler Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI DPC++ Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Math Kernel Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Link Line Advisor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Threading Building Blocks</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FPGA Support Package for Intel® oneAPI DPC++/C++ Compiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Code Samples</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Catalog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Academic Program</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Educator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Student Ambassador</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Innovator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Centers of Excellence</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Summit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Essentials of SYCL*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FPGA Development Flow Using Intel® oneAPI Base Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Heterogeneous Programming Using Numba-Data Parallel Python*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">AI Tools Samples Workflow</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® oneAPI Math Kernel Library (oneMKL) Essentials</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Machine Learning using oneAPI</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Migrate from CUDA* to C++ with SYCL*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenMP* Offload Basics</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Optimize GPU Apps with the Intel® oneAPI Base Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay Essentials</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Performance, Portability & Productivity</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Workflow for a CUDA* to SYCL* Migration</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">oneAPI Programming Guide</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Installation Guides</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Supported Hardware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Priority Support for Intel® oneAPI Base Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Priority Support for Intel® oneAPI Base & HPC Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Priority Support for Intel® oneAPI Base & IoT Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Edge Platform</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Platform Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Geti™</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Model Builder Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Scenescape</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FPGA</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Active Management Technology SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Features</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Advisor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® AI Reference Models</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Collaboration Suite for WebRTC SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Tiber™ AI Cloud</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training Portal (Beta)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Distribution for Python*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Distribution for GDB*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® DPC++ Compatibility Tool</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Dynamic Application Loader</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technology Details</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Frameworks</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Embree</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Extension for Scikit-learn*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Fortran Compiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Graphics Performance Analyzers</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Graphics Frame Analyzer</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Graphics Trace Analyzer</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">System Analyzer</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Forum</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Homomorphic Encryption Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® In-Band Manageability</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Use Cases</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Performance Primitives</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Simulation Infrastructure with Modeling</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Instruction Set Architecture (ISA) Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Intelligent Storage Acceleration Library (Intel® ISA-L)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® ISA-L on GitHub*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® ISA-L for Cryptography on GitHub*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Modin*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® MPI Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Pinning Simulator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Neural Compressor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenCL™ Runtime</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Image Denoise</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Path Guiding Library (Intel® Open PGL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Pin</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Platform Analysis Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Software</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Features</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Build</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Run</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Runtimes (GPU, CPU)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OpenSWR</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenVINO™ Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">What's New</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">AI PC</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Knowledge Base</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Certification</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Volume Kernel Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Optimization for XGBoost*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tutorials</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Code Samples</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay for Hydra*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay Studio</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">PyTorch* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation for Intel® Extension for PyTorch*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">All Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Guide</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Installation Guide</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started Cheat Sheet</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Release Notes</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">System Requirements</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">TensorFlow* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download from TensorFlow*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download the Intel® Extension for TensorFlow*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Rendering Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Smart Edge Open</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Guard Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Attestation & Provisioning Services</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® SGX SDK for Linux OS*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Commercial License Request</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Forum</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Secure Device Onboard</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Development Emulator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Trust Domain Extensions (Intel® TDX)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Quantum SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Query Processing Library (Intel® QPL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Video Processing Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® VTune™ Profiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">All Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">User Guide</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started Guide</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Installation Guide</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Cookbook</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Release Notes</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">System Requirements</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resellers</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Hardware Platforms</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Gaudi® Software</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Setup</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Develop</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Inference</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Fine-Tune</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Pretrain</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Blog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Models</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Catalog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Performance</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Inference Data for Intel® Gaudi® 3 AI Accelerators</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training Data for Intel® Gaudi® 3 AI Accelerators</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Inference Data for Intel® Gaudi® 2 AI Accelerators</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training Data for Intel® Gaudi® 2 AI Accelerators</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Hugging Face*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Optimization & Debugging</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Model Reference</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Forum</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Core™ Ultra Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Xeon Processors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Data Center GPU Flex Series</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources & Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tuning Guides</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Installation Guides</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Programming Guides</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Community & Events</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Events</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">DevCon On Demand</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Kubecon</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Source Summit Europe</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Parallel Universe Magazine</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Student Ambassadors</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Innovators</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Programs</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Altera® University Program</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Membership</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Boards</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Materials</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">SD Card Images</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tutorials</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Workshops</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Research</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Help</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Product Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Software Product Forums</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Hardware Product Forums</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Priority Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FPGA Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Frequently Asked Questions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Licensing</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Priority Support</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Purchasing, Renewing, and Upgrading</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Downloading</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Installation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Registration</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Topics & Technologies
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Artificial Intelligence</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Client Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Cloud</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">GPU Research</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Edge Computing</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">GameDev</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">HPC</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Data Center</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Firmware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Networking</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Ecosystem</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Persistent Memory</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Platform Analysis Technology</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Runtime Languages</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Software Security Guidance</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Storage</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>

        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Edge Computing
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Hardware</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Edge AI Reference Kits</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Technical Library</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>

        <div>
            <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span><a href="">Overview</a></span>
            </button>
        </div>

        <div class="m_ai_shlash">/</div>
        <div class="m_ai_httl">Optimized Offline Large-Scale Item Search with BigDL</div>

    </section>

    <!-- VMware Horizon -->
    <section>
        <div class="mv_vmware_bg_color">
            <div class="container">
                <div class="mv_vmware_padd">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="mv_vmware_heading">
                                <h3>Optimized Large-Scale Item Search with Intel BigDL at Yahoo! JAPAN Shopping*</h3>
                            </div>
                        </div>
                    </div>
                    <div class="mv_cd_page_marquee_info">
                        <div class="mv_cd_page_marquee_action">
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for="">ID</label>
                                <span>777763</span>
                            </div>
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for="">Updated</label>
                                <span>12/16/2022</span>
                            </div>
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for="">Version</label>
                                <span>Latest</span>
                            </div>
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for=""></label>
                                <span>Public</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="container py-5">
        <div class="row">
            <div class="d-flex justify-content-end col-xl-10 py-3 d-md-none">
                <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
            </div>
            <div class="col-lg-3 col-md-4">
                <!-- nav -->
                <div class="VK_sticky_side_bar VK_side_bar_postion_stickey">
                    <div>
                        <div class="VK_sidebar_dropdown">
                            <p class="m-0">
                                <a href="#dk_part1" class="text-decoration-none VK_a">
                                    Part1 - Yahoo! JAPAN Shopping's Recommendation use Case
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_part2" class="text-decoration-none VK_a">
                                    Part2 - Faiss Overview
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_part3" class="text-decoration-none VK_a">
                                    Part3 - Trials of Faiss on GPU at Yahoo! JAPAN Shopping
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_part4" class="text-decoration-none VK_a">
                                    Part4 - Faiss on Spark Solution with BigDL
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_part5" class="text-decoration-none VK_a">
                                    Part5 - Experimental Results
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_part6" class="text-decoration-none VK_a">
                                    Part6 - Conclusion and Future Work
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
                <p class="mt-3"><span>By</span>
                    <a href="">Kai Huang</a>,
                    <a href="">Jinquan Dai</a>,    
                    <a href="">Hiroshi Ouchiyama</a>,
                    <a href="">Qiang Xu</a>
                </p>
                <!-- thinkcode -->
                <!-- <div class="dk_things_code_main">
                    <div class="dk_things_code">
                        <h2 class="text-left headline-font-one-bold">Loss Prevention Retail Reference Implementation provides:</h2>
                        <div class="dk_high_quality">
                            <ul>
                                <li>High-quality testable ingredients needed to create a solution to prevent thefts at stores.</li>
                                <li>Building blocks needed to enable the use case with solid performance numbers.</li>
                                <li>Hardware requirements to support the workloads and scale the solution.</li>
                            </ul>
                        </div>
                    <div class="dk_get_code">
                        <button class="dk_button">Get Started on GitHub<sup>*</sup></button>
                    </div>
                    </div> 
                </div> -->
            </div>
            <div class="col-lg-9 col-md-8">
                <div class="d-md-flex justify-content-end col-xl-10 py-3 d-none">
                    <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                    <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
                </div>
                <div class="col-xl-10 VK_all_sections">
                    <div style="padding-bottom: 16px;">
                        <p>&nbsp;</p>
                        <p>Co-author: Naoaki Yamashita of Yahoo! JAPAN*.</p>
                    </div>
                    <section id="dk_part1">
                        <h3 style="font-weight: 350;">Part1 - Yahoo! JAPAN Shopping's Recommendation use Case</h3>
                        <p>Recommendation is unsurprisingly a critical workload for Yahoo! JAPAN's daily business. Yahoo! JAPAN* has several services like advertisement, auction, news, shopping and each service has its own recommender systems. Like modern recommender systems, the product recommender system for Yahoo! JAPAN Shopping* is also a multi-stage recommender system made up of many components (e.g. ETLs, feature engineerings, recommendation algorithms, online serving, etc.) that function together to eventually prompt users with the contents that they are most likely interested in. The configuration of the stages would be designed based on several constraints such as the amount of the data, available system resources and business requirements. In many cases, each stage would be optimized by different metrics like recall and precision.</p>
                        <p class="mb-0">One key challenge in building production recommender systems is to efficiently retrieve the most relevant items from an enormous candidate pool with millions or even billions of items in total in real-time. Multi-stage recommender systems make it possible to reduce the number of candidates effectively in a stage-wise manner. In the recommender system for Yahoo! JAPAN Shopping, we tackle this challenge using three stages as follows:</p>
                        <ol>
                            <li>
                            <p>Offline item search (also known as offline item recall): In this very first but important stage, for each item we search for 200 similar items within the same category. This stage greatly reduces the candidate space from millions to hundreds.</p>
                            </li>
                            <li>
                            <p>Offline item ranking: In this stage, we use Learning-to-Rank (GBDT, DNN) to get more precise candidate orders from the results of the recall stage.</p>
                            </li>
                            <li>
                            <p>Online re-ranking: Based on user features, current activities and/or business logics, the system would trigger many types of next-item recommendation service. The online recommendation products together with their top similar items from the offline item ranking would be combined and recommended to the user.</p>
                            </li>
                        </ol>
                        <p>The general workflow of the above stages is shown in Figure 1. We conduct all the item-to-item recommendations offline so that during the online stage, the result of ranking stage could be directly fetched with lower latency as no extra item-based computations are involved. Since our item space is huge (more than millions per category), efficient offline item search would play an important role in our entire recommender system.</p>
                        <p style="text-align: center;">
                            <img class="dk_optimized_off_img" height="294" src="/img/darshit_image/optimized-item-search-with-bigdl-at-yahoo-japan-figure1-805578.png" width="750">
                        </p>
                        <p style="text-align:center">Figure 1: Recommendation Workflow at Yahoo! JAPAN Shopping</p>
                        <p>This blog mainly discusses Yahoo! JAPAN Shopping’s practice of efficiently performing large-scale offline item recall (i.e. the first stage discussed above) using the solution provided in <a class="b_special_a1" href="https://github.com/intel/ipex-llm">BigDL</a>. We do item search based on item embeddings, which have been trained beforehand regularly, using the vector search algorithms provided in <a class="b_special_a1" href="https://github.com/facebookresearch/faiss">Faiss</a>&nbsp;and utilizes BigDL as well as Apache Spark to scale Intel® optimized Faiss to large <a class="b_special_a1" href="/darshit/dk_product/Intel_Xeon_6_Processors.html">Intel® Xeon</a>&nbsp;clusters in a distributed fashion with high performance. From our experiments, this implementation can achieve outstanding performance compared with our previous trials on single-node 4 Nvidia V100 and we have successfully adopted it in our production environment.</p>
                        <p>&nbsp;</p>
                    </section>
                    <section id="dk_part2">
                        <h3 style="font-weight: 350;">Part2 - Faiss Overview</h3>
                        <p>With AI tools, like bags-of-words, word2vec or convolutional neural net (CNN) descriptors, each item can be trained to have a high-dimensional dense vector representation of its characteristics, which is also known as embeddings. In the same latent space, the distance (e.g. dot product or cosine distance) between two item vectors can therefore reflect the similarity between these two items. Similarity search performs the work to search for a certain number of most similar items in the database given a query item.</p>
                        <p>Facebook AI Similarity Search (Faiss) is a library for efficient similarity search of dense vectors developed primarily at Facebook AI Research that supports both CPU and GPU. As shown in Figure 2 below, Faiss performs vector similarity search by pre-building the index given a collection of vectors and efficiently indexing similar items to the query in RAM. Faiss provides various similarity search methods that span a wide spectrum of usage trade-offs and has excellent optimization under the hood. There are a number of exact and approximation search algorithms available in Faiss such as <a class="b_special_a1" href="https://en.wikipedia.org/wiki/Inverted_index">IVFFlat</a>, <a class="b_special_a1" href="/img/darshit_image/Noh_Product_Quantizer_Aware_Inverted_Index_for_Scalable_Nearest_Neighbor_Search_ICCV_2021_paper.pdf">IVFPQ</a>, <a class="b_special_a1" href="https://arxiv.org/abs/1603.09320">HNSW</a>, etc.</p>

                        <p>&nbsp;</p>
                        <p style="text-align:center">
                            <img class="dk_optimized_off_img" height="273" src="/img/darshit_image/optimized-item-search-with-bigdl-at-yahoo-japan-figure2-805578.png" width="500">
                        </p>
                        
                        <p style="text-align:center">Figure 2: Vector Similarity Search Overview</p>
                        <p>Efficient distance computation between vectors is crucial for overall performance of vector search. Intel® Optimized Faiss makes heavy use of multi-threading (via OpenMP) to exploit multiple cores for parallel search. In the meantime, BLAS libraries are leveraged to perform distance computations via matrix multiplication, and SIMD vectorization instruction also greatly speeds up distance computations for isolated vectors. Additionally, <a class="b_special_a1" href="https://en.wikipedia.org/wiki/AVX-512">AVX512</a>&nbsp;on Intel® Xeon executes operations for more data in one instruction and <a class="b_special_a1" href="https://en.wikichip.org/wiki/x86/avx512_vnni">VNNI</a>&nbsp;uses one instruction to implement multiply-accumulate operation for INT8 and INT16. <a class="b_special_a1" href="">Intel® AVX512 and Intel® Deep Learning Boost </a>can bring even further throughput improvement for Faiss on Xeon platforms.</p>
                    </section>
                    <section id="dk_part3">
                        <p>&nbsp;</p>
                        <h3 style="font-weight: 350;">Part3 - Trials of Faiss on GPU at Yahoo! JAPAN Shopping</h3>
                        <p>Our initial attempt tried to run Faiss on Nvidia V100 Tensor Core GPU for this task because the embedding models are trained on it and we use&nbsp;<code>faiss-gpu</code>&nbsp;to&nbsp;calculate the recall metrics of embeddings at the end of each training epoch. The training environment and a part of the executing codes can be applicable to the inference after the training.</p>
                        <p>However, our data is entirely stored on HDFS and we have to use <a href="https://arrow.apache.org/docs/python/index.html">pyarrow</a>&nbsp;to read data from HDFS and write search results back to HDFS. The code segment and logic to combine Faiss and pyarrow is rather complicated because there are some parameters to be optimized such as batch size and the number of threads for Faiss and pyarrow respectively. In addition, there are many other factors to be considered, including the number of items for each category, the constraint of the consumable HDFS quota, the proper block size on HDFS, the number of GPU to be used to achieve relatively high utilization, etc. On the other hand, it is not feasible to separate the time cost of Faiss computation and HDFS I/O for performance analysis and optimization. Besides, our GPU resources are limited and allocated for other workloads (e.g. training tasks) and other in-house projects.</p>
                        <p>Spark is an efficient framework for processing large data on HDFS and Yahoo! JAPAN already has Hadoop/YARN clusters and runs Spark on them, thus we have switched over to BigDL and Spark with&nbsp;<code>faiss-cpu</code> to simplify and optimize the offline search stage.</p>
                        <p>&nbsp;</p>
                    </section>

                    <section id="dk_part4">
                        <h3 style="font-weight: 350;">Part4 - Faiss on Spark Solution with BigDL</h3>
                        <p>Referring to the example use case provided in BigDL, our offline recall workload is now directly performed on the Hadoop/YARN cluster where HDFS locates. Every Spark executor runs one Faiss task and the task fully uses all the cores of this executor. Intel® optimized Faiss would utilize all the executor cores to do the search in parallel to achieve optimal performance. In such an implementation, Spark is used to read the data from HDFS, partition the data for each Faiss task and eventually write the search results back to HDFS as parquet files (as demonstrated in Figure 3).</p>
                        <p>&nbsp;</p>
                        <p style="text-align:center"><img class="dk_optimized_off_img" height="464" src="/img/darshit_image/optimized-item-search-with-bigdl-at-yahoo-japan-figure5-805578.png" width="500"></p>
                        <p style="text-align:center">Figure 3: Intel® Optimized Faiss with BigDL and Spark Architecture</p>
                        <p>This solution unifies data I/O and computation in a single cluster and therefore makes it easier and more efficient to manage. Moreover, the solution could be easily scaled to large clusters of hundreds of nodes with minimum efforts. Below is some sample code snippet and you check here&nbsp;for the complete implementation.</p>

                        <!-- code toolbar 3 -->
                        <div class="mv_code_toolbar">
                            <div class="mv_toolbar_item mv_copy_icon">
                                <i class="fa-regular fa-copy"></i>
                            </div>
                            <div class="mv_copy_message text-end hidden">Copied</div>
                            <div class="code-content">
                                <div style="padding-bottom: 0rem !important" class="d-flex mv_pre">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        1
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0"><span class="dk_color1">def</span> faiss_search ( faiss_index_path, batch_size, top_k ) :</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        2
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; faiss_idx <span class="dk_color3">=</span> faiss.deserialize_index ( pickle.load ( index_pkl ) )</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        3
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0"></p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        4
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; <span class="dk_color1">def</span> search ( <span class="dk_color2">iter</span> ) :</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        5
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color2">buffer</span> <span class="dk_color3">=</span> [ ]</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        6
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">for</span> item <span class="dk_color1">in</span> <span class="dk_color2">iter</span>:</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        7
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">if</span> <span class="dk_color2">len</span> ( <span class="dk_color2">buffer</span> ) <span class="dk_color3">==</span> batch_size :</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        8
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; similarity, idx <span class="dk_color3">=</span> faiss_idx.search ( <span class="dk_color2">buffer</span>, k <span class="dk_color3">=</span> top_k )</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        9
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <span class="dk_color1">for</span> i <span class="dk_color1">in</span> <span class="dk_color2">range</span> ( batch_size ) :</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        10
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; seed_item <span class="dk_color3">=</span> <span class="dk_color2">buffer</span> [ i ]</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        11
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">for</span> rank, ( score, recommend_item ) <span class="dk_color1">in</span> <span class="dk_color2">enumerate</span> ( <span class="dk_color2">zip</span> ( similarity [ i ] , idx [ i ] ) ) :</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        12
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">yield</span> seed_item, recommend_item, rank, score</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        13
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color2">buffer</span> <span class="dk_color3">=</span> [ ]</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        14
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">else</span> :</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        15
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color2">buffer</span>.append ( item )</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        16
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color4"># Skip the part of handling the last incomplete batch</span></p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        17
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">return</span> search</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        18
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0"></p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        19
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0"></p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        20
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">embed_df <span class="dk_color3">=</span> spark.read.parquet ( path )</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        21
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">search_rdd <span class="dk_color3">=</span> embed_df.rdd.mapPartitions ( faiss_search ( faiss_index_path, batch_size, top_k ) )</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        22
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">search_df <span class="dk_color3">=</span> search_rdd.toDF ( )</p>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;"
                                    class="d-flex mv_pre pb-0">
                                    <div style="border-right: 1px solid #ccc" class="pe-3">
                                        23
                                    </div>
                                    <div class="">
                                        <div class="mv_code text-break">
                                            <p class="mb-0">search_df.write.mode ( <span class="dk_color2">" overwrite "</span> ) .parquet ( output_path )</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </section>

                        <section id="dk_part5">
                            <h3 style="font-weight: 350;">Part5 - Experimental Results</h3>
                            <p>We demonstrated the performance of the similarity search on Spark based on the above BigDL implementation. To compare it with our GPU use case, we used a single-node 4 V100 GPU server and exploited the code segment running on our production system with <code>faiss-gpu</code>&nbsp;and&nbsp;<code>pyarrow</code>.&nbsp;As for the test dataset, we prepared 6 million 128 dimensional random vectors normalized by L2 norm and made a 'FlatIP' index since the embedding vectors in production are optimized through cosine similarity. The data size is based on our reference scale of items in a category. Measurement of the execution time is done for searching similar 200 items for each 6 million items and writing 1.2 billion rows down to HDFS for the production system. All the parameters are about the same as the case of Yahoo! JAPAN Shopping's recommender system for each item category.</p>
                            <p>The performance results of our experiments are shown in Figure 4 below. When using GPUs to run Faiss with 4 threads and 8 pyarrow threads, it took about 1 hour and 50 minutes to complete search and writing. For this experiment, we used the same parameters as in the production system without optimizing them. On the other hand, using 20 Spark executors and 4 cores per executor with the Faiss on Spark solution in BigDL, the whole process can be completed within half an hour. When 2 cores for each executors are used it took about 1 hour and so the scalability is quite good. In addition, the code structure is simpler and solid, so it would be suitable for long-term use.</p>
                            <p>The performance boost of 20 Spark executors and 4 cores against single-node 4 V100 (more than 3.5x speed up) is significant as we experiment and BigDL’s solution turns out to be efficient, scalable and easy to maintain.</p>
                            <p style="text-align:center"><img class="dk_optimized_off_img" height="370" src="/img/darshit_image/optimized-item-search-with-bigdl-at-yahoo-japan-figure4-805578.png" width="624"></p>
                            <p style="text-align:center">Figure 4: Offline Item Search Performance Comparison Results</p>
                        </section>

                        <section id="dk_part6">
                            <p>&nbsp;</p>
                            <h3 style="font-weight: 350;">Part6 - Conclusion and Future Work</h3>
                            <p>In this blog, we share our practical experience in efficiently performing large-scale optimized Faiss using BigDL and Spark on Yahoo! JAPAN’s Hadoop/YARN cluster. Empirical results prove that this solution obtains satisfactory performance on our production data. Besides, the code and the parameters are quite simple and it improves maintainability for the production system. Don’t hesitate to check out the implementation here&nbsp;to scale your similarity search workloads :).</p>
                            <p>We are also attempting to use BigDL to seamlessly scale models in TensorFlow Recommenders (<a class="b_special_a1" href="https://www.tensorflow.org/recommenders">TFRS</a>) to large clusters for listwise ranking in the offline item ranking stage after the recall stage. Using the <a class="b_special_a1" href="https://bigdl.readthedocs.io/en/latest/doc/Orca/index.html">BigDL Orca library</a>, ETL, model training and inference tasks for deep learning workloads can be executed end-to-end on a single Spark cluster, which helps reduce the gap between ETL and training/inference for data-intensive workloads to a large extent. BigDL Orca not only supports running popular deep learning frameworks on Spark clusters, including TensorFlow and PyTorch, but also supports easily scaling additional libraries such as TFRS. Moreover, the data processing implementation for our initial attempt can be improved by <a class="b_special_a1" href="https://bigdl.readthedocs.io/en/latest/doc/Friesian/index.html">BigDL Friesian</a>, a library in BigDL for building large-scale end-to-end recommender systems.</p>
                            <p>Our initial results look quite good and with BigDL, all the tasks are combined into a single workload and could be easily migrated from the experiment environment to the production environment. BigDL does significantly speed up the development and productization of recall and ranking stages in the recommender system for Yahoo! JAPAN Shopping. We are glad to share our experience in applying large-scale data on TFRS with BigDL in the future.</p>
                        </section>
                </div>
            </div>
        </div>
    </section>

    <section style="border-top: 1px solid #d7d7d7;" class="container py-5">
        <h4 class="h6">Product and Performance Information</h4>
        <div class="disclaimer" style="font-size: 12px;"><sup>1</sup> Performance varies by use, configuration and other factors. Learn more at <a class="b_special_a1" href=""> www.Intel.com/PerformanceIndex.</a></div>
        </div>
    </section>

    <!-- footer -->
    <div id="footer"></div>

    <!-- nav script -->
    <script>
        // navbar include  
        fetch('/y_index/y_navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });
        // footer include 
        fetch('/y_index/y_footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <!-- nav script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (document.getElementsByClassName('VK_all_sections section') && document.getElementsByClassName('VK_sidebar_dropdown')) {
                const sections = document.querySelectorAll('.VK_all_sections section');
                const navLinks = document.querySelectorAll('.VK_sidebar_dropdown a');
                const detailsElements = document.querySelectorAll('.VK_sidebar_dropdown details');

                function removeActiveClass() {
                    navLinks.forEach(link => link.classList.remove('VK_sidebar_active_link'));
                    detailsElements.forEach(details => {
                        details.removeAttribute('open');
                        details.setAttribute('close', ''); // Optional: to visually indicate it's closed
                    });
                }

                function activateLinkAndDetails(targetId) {
                    navLinks.forEach(link => {
                        if (link.getAttribute('href') === `#${targetId}`) {
                            link.classList.add('VK_sidebar_active_link');
                            let parentDetails = link.closest('details');

                            // Open all ancestor details elements
                            while (parentDetails) {
                                parentDetails.setAttribute('open', '');
                                parentDetails.removeAttribute('close'); // Optional: remove the closed indicator
                                parentDetails = parentDetails.parentElement.closest('details');
                            }
                        }
                    });
                }

                function onScroll() {
                    let currentSection = '';
                    sections.forEach(section => {
                        const sectionTop = section.getBoundingClientRect().top;
                        const sectionBottom = section.getBoundingClientRect().bottom;

                        // Check if the section is in view
                        if (sectionTop <= 100 && sectionBottom >= 0) {
                            currentSection = section.getAttribute('id');
                        }
                    });

                    if (currentSection) {
                        removeActiveClass();
                        activateLinkAndDetails(currentSection);
                    } else {
                        removeActiveClass();
                    }
                }

                window.addEventListener('scroll', onScroll);
            } else {
                return
            }
        });
    </script>

    <!-- copy script -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".mv_copy_icon").forEach((icon) => {
                icon.addEventListener("click", async function () {
                    try {
                        const toolbar = this.closest(".mv_code_toolbar");
                        const codeBlock = toolbar.querySelector(".code-content");
                        const codeContent = codeBlock.innerText;

                        // Use Clipboard API to copy text
                        await navigator.clipboard.writeText(codeContent);

                        // Hide the copy icon and show the "Copied!" message
                        const message = toolbar.querySelector(".mv_copy_message");
                        this.classList.add("hidden"); // Hide the copy icon
                        message.classList.remove("hidden"); // Show the "Copied!" message

                        // Hide the message and show the icon again after 2 seconds
                        setTimeout(() => {
                            message.classList.add("hidden");
                            this.classList.remove("hidden");
                        }, 2000); // Adjust delay as needed

                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                    }
                });
            });
        });
    </script>

</body>

</html>


