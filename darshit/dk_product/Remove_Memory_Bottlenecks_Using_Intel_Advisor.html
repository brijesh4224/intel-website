<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove Memory Bottlenecks Using Intel® Advisor</title>

    <!-- font family -->
    <link href="https://fonts.cdnfonts.com/css/intel-clear" rel="stylesheet">
    <link rel="stylesheet" href="/css/dk_arria_10_FPGA_developer_center.css">
    <link rel="stylesheet"href="/css/dk_developer_edge_iot_5G_industrial_automation_see_all_Intelligent_connection_management_for_automated_handover.css">
    <link rel="stylesheet"href="/css/dk_developer_edge_iot_&_5G_optimize_fine_tuning_and_deployment_of_LLMs_on_an_ai_pc.css">
    <link rel="stylesheet" href="/css/rushita_automotive.css">
    <!-- header footer -->
    <link rel="stylesheet" href='/css/yatri.css'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

</head>

<style>
    .dk_color1{
        color: #069 !important;
        font-weight: 700 !important;
    }
    .dk_color2{
        color: #b24501;
    }
    /****** Device Information ******/
        .mv_deploy_nav_tab{
            background-color: #fff;
        }
        .mv_deploy_nav_pills{
            border-bottom: 1px solid #E6E6E6;
            flex-wrap: nowrap !important;
            overflow-x: auto !important;
            width: 100% !important;
        }
        .mv_deploy_nav_link {
            color: #0068b5 !important;
        }
        .mv_deploy_nav_pills .mv_deploy_nav_link{
            background-color: #fff !important;
            text-wrap: nowrap !important;
        }
        .mv_deploy_nav_pills .mv_deploy_nav_link.active{
            border-radius: 0rem !important;
            color: #0068b5 !important;
            border-bottom: 4px solid #00aeef;
            background-color: #F2F2F2 !important;
        }
        .mv_deploy_nav_pills .mv_deploy_nav_link:hover{
            border-radius: 0rem;
            background-color: #F2F2F2 !important;
        }
        .mv_gpu_flex_padd{
            padding: 3rem 0rem;
        }
        .mv_gpu_flex{
            align-content: center;
        }
        .mv_gpu_flex h1{
            font-weight: 350;
        }
        .mv_gpu_flex p{
            margin-bottom: .5rem;
        }
        .mv_gpu_flex p a{
            color: #0068b5;
            border-bottom: 1px dashed #0068b5;
        }
        .mv_gpu_flex p a:hover{
            border-bottom: 1px solid #0068b5;
        }
        .mv_gpu_flex_img img{
            width: 100%;
        }
        .mv_enable_boundless_padd{
            padding: 3rem 0rem;
        }
        .mv_enable_img img{
            width: 100%;
            margin-bottom: 10px;
        }
        @media(max-width:768px){
            .mv_product_table{
                width: 100% !important;
            }
        }
        @media(max-width:1440px){
            .great_per_img{
                width: 100% !important;
            }
        }
</style>

<body>
    <!-- header -->
    <div id="navbar"></div>

    <!-------------------------------------------------------------------------->
    <section class="m_ai_tdrop" style="border-bottom: 1px solid rgb(226, 221, 221);">
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Developers
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Topics & Technologies</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources & Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Community & Events</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Programs</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Help</a></li>
            </ul>
        </div>
    
        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Tools
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Software Catalog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">oneAPI</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Edge Platform</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FPGA</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Active Management Technology SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Advisor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® AI Reference Models</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Collaboration Suite for WebRTC SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Tiber™ AI Cloud</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Distribution for Python*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Distribution for GDB*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® DPC++ Compatibility Tool</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Dynamic Application Loader</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Frameworks</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Embree</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Extension for Scikit-learn*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Fortran Compiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Graphics Performance Analyzers</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Homomorphic Encryption Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® In-Band Manageability</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Performance Primitives</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Simulation Infrastructure with Modeling</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Instruction Set Architecture (ISA) Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Intelligent Storage Acceleration Library (Intel® ISA-L)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Modin*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® MPI Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Neural Compressor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenCL™ Runtime</a></li>   
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Image Denoise</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Path Guiding Library (Intel® Open PGL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Pin</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Platform Analysis Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Software</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OpenSWR</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenVINO™ Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Volume Kernel Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Optimization for XGBoost*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay for Hydra*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay Studio</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">PyTorch* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">TensorFlow* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Rendering Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Smart Edge Open</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Guard Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Secure Device Onboard</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Development Emulator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Quantum SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Query Processing Library (Intel® QPL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Video Processing Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® VTune™ Profiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resellers</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                oneAPI
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Data Parallel C++/SYCL*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Toolkits</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tech Articles & How-Tos</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Components</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Code Samples</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Support</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Tech Articles & How-Tos
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">News Updates</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Webinars</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div class="m_ai_httl">Remove Memory Bottlenecks Using Intel® Advisor</div>
    </section>
    <!-------------------------------------------------------------------------------------------------------->

    <!-- VMware Horizon -->
    <section>
        <div class="mv_vmware_bg_color">
            <div class="container">
                <div class="mv_vmware_padd">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="mv_vmware_heading">
                                <h3>Remove Memory Bottlenecks Using Intel® Advisor</h3>
                            </div>
                        </div>
                    </div>
                    <div class="mv_cd_page_marquee_info">
                        <div class="mv_cd_page_marquee_action">
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for="">ID</label>
                                <span>784642</span>
                            </div>
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for="">Updated</label>
                                <span>5/6/2019</span>
                            </div>
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for="">Version</label>
                                <span>Latest</span>
                            </div>
                            <div class="mv_cd_page_marquee_action_padd">
                                <label for=""></label>
                                <span>Public</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="container py-5">
        <div class="row">
            <div class="d-flex justify-content-end col-xl-10 py-3 d-md-none">
                <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
            </div>
            <div class="col-lg-3 col-md-4">
                <!-- nav -->
                <div class="VK_sticky_side_bar VK_side_bar_postion_stickey">
                    <div>
                        <div class="VK_sidebar_dropdown">
                            <p class="m-0">
                                <a href="#dk_gt_performance" class="text-decoration-none VK_a">
                                    Get Great Performance
                                </a>
                            </p>
                            <details>
                                <summary>
                                    <a href="#dk_performance_pro" class="text-decoration-none VK_a">
                                        Performance Problems
                                    </a>
                                </summary>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <a href="#dk_bad_access" class="text-decoration-none VK_a my-1">
                                            Bad Access Pattern
                                        </a>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <a href="#dk_memory_subsystem" class="text-decoration-none VK_a my-1">
                                            Memory Subsystem Latency and Throughput
                                        </a>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <a href="#dk_branchy_code" class="text-decoration-none VK_a my-1">
                                            Branchy Code
                                        </a>
                                    </li>
                                </ul>
                            </details>
                                <p class="m-0">
                                    <a href="#dk_are_bound" class="text-decoration-none VK_a">
                                        Are You Bound by a CPU, VPU, or Memory?
                                    </a>
                                </p>
                            <details>
                                    <summary>
                                        <a href="#dk_helpful_feat" class="text-decoration-none VK_a">
                                            Helpful Optimization Features
                                        </a>
                                    </summary>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <details>
                                                <summary>
                                                    <a href="#dk_roofline" class="text-decoration-none VK_a">
                                                        Roofline Analysis
                                                    </a>
                                                </summary>
                                                <ul class="list-unstyled ps-3 mb-0">
                                                    <li>
                                                        <a href="#dk_integrated" class="text-decoration-none VK_a my-1">
                                                            Integrated Roofline
                                                        </a>
                                                    </li>
                                                </ul>
                                            </details>
                                        </li>
                                    </ul>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <a href="#memory_access" class="text-decoration-none VK_a my-1">
                                                Memory Access Pattern (MAP) Analysis
                                            </a>
                                        </li>
                                    </ul>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <a href="#dk_unit_uniform" class="text-decoration-none VK_a my-1">
                                                Unit and Uniform Stride Types
                                            </a>
                                        </li>
                                    </ul>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <a href="#dk_variable_stride" class="text-decoration-none VK_a my-1">
                                                Variable Stride Types
                                            </a>
                                        </li>
                                    </ul>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <a href="#dk_memory_footprint" class="text-decoration-none VK_a my-1">
                                                Memory Footprint Analysis
                                            </a>
                                        </li>
                                    </ul>
                            </details>
                            <details>
                                    <summary>
                                        <a href="#dk_real_word" class="text-decoration-none VK_a">
                                            A Real-World Example
                                        </a>
                                    </summary>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <details>
                                                <summary>
                                                    <a href="#dk_create_baseline" class="text-decoration-none VK_a">
                                                       Create a Baseline
                                                    </a>
                                                </summary>
                                                <ul class="list-unstyled ps-3 mb-0">
                                                    <li>
                                                        <a href="#dk_step1" class="text-decoration-none VK_a my-1">
                                                            Step 1
                                                        </a>
                                                    </li>
                                                </ul>
                                                <ul class="list-unstyled ps-3 mb-0">
                                                    <li>
                                                        <a href="#dk_step2" class="text-decoration-none VK_a my-1">
                                                            Step 2
                                                        </a>
                                                    </li>
                                                </ul>
                                            </details>
                                        </li>
                                    </ul>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <a href="#dk_optimize_accesses" class="text-decoration-none VK_a my-1">
                                                Optimize Memory Accesses
                                            </a>
                                        </li>
                                    </ul>
                                    <ul class="list-unstyled ps-3 mb-0">
                                        <li>
                                            <a href="#dk_related_res" class="text-decoration-none VK_a my-1">
                                                Related Resources
                                            </a>
                                        </li>
                                    </ul>
                            </details>
                            <p class="m-0">
                                <a href="#dk_line" class="text-decoration-none VK_a">
                                    -------
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_you_may" class="text-decoration-none VK_a">
                                    You May Also Like
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
                <!-- thinkcode -->
                <!-- <div class="dk_things_code_main">
                    <div class="dk_things_code">
                        <h2 class="text-left headline-font-one-bold">Loss Prevention Retail Reference Implementation provides:</h2>
                        <div class="dk_high_quality">
                            <ul>
                                <li>High-quality testable ingredients needed to create a solution to prevent thefts at stores.</li>
                                <li>Building blocks needed to enable the use case with solid performance numbers.</li>
                                <li>Hardware requirements to support the workloads and scale the solution.</li>
                            </ul>
                        </div>
                    <div class="dk_get_code">
                        <button class="dk_button">Get Started on GitHub<sup>*</sup></button>
                    </div>
                    </div> 
                </div> -->
            </div>
            <div class="col-lg-9 col-md-8">
                <div class="d-md-flex justify-content-end col-xl-10 py-3 d-none">
                    <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                    <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
                </div>
                <div class="col-xl-10 VK_all_sections">
                    <div style="padding-bottom: 16px;">
                        <p>&nbsp;</p>
                        <p>&nbsp;</p>
                        <h4>Understanding How Your Program Is Accessing Memory Helps You Get More from Your Hardware</h4>
                        <p class="mb-4">Kevin O’Leary and Alex Shinsel, technical consulting engineers, Intel Corporation<br> <a class="b_special_a1" href="" rel="noopener noreferrer">@IntelDevTools</a></p>
                        <hr>
                        <p class="mb-0">How your application accesses memory dramatically impacts performance. It's not enough to parallelize your application by adding threads and vectorization. Effective use of memory bandwidth is just as important. But often, software developers just don’t understand it. Tools that help minimize memory latency and increase bandwidth can help pinpoint performance bottlenecks and diagnose their causes. One such tool is <a class="b_special_a1" href="">Intel® Advisor</a>, which has features to help optimize memory access and eliminate memory bottlenecks:</p>
                        <ul>
                            <li>Roofline analysis with the new <strong>Integrated Roofline</strong> feature</li>
                            <li>Memory Access Pattern (MAP) analysis</li>
                            <li>Memory footprint analysis</li>
                        </ul>
                        <p class="mb-0">&nbsp;</p>
                    </div>
                    <section id="dk_gt_performance">
                        <h3 style="font-weight: 350;">Get Great Performance</h3>
                        <p>To get top performance out of your application, you need to know how well you're using all system resources. You can see some useful metrics on your overall program in the Summary view (Figure 1) in Intel Advisor, which gives you an indication of how well the application is vectorized.</p>
                        <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig1.jpg" width="760"><br>
                        Figure 1. <strong>Summary </strong>view<br>
                        <p>You also need to systematically investigate the loops in your program that are taking the most time. A key metric for this is Vectorization Efficiency (Figure 2). In this example, Intel Advisor is showing a vectorization gain of 2.19x. But this only gives us a vectorization efficiency score of 55%. Where did 45% of the efficiency get lost? There are many factors that can cause inefficient vectorization.</p>
                        <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig2.jpg" width="517"><br>
                        Figure 2.<strong> Vectorization Efficiency </strong>view<br>
                        &nbsp;</p>
                        <p class="mb-0">&nbsp;</p>
                    </section>
                    <section id="dk_performance_pro">
                        <h3 style="font-weight: 350;">Performance Problems</h3>
                        <p class="mb-0">&nbsp;</p>
                    </section> 
                        <section id="dk_bad_access">
                            <h4>Bad Access Pattern</h4>
                            <p>Indirect memory access is a common cause of slowdowns. Notice in the following code snippet that <strong>A</strong> can't be decoded without first decoding <strong>B[i]</strong>:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function"><span class="dk_color1">for</span> ( i <span class="dk_color2">=</span> 0 ; i <span class="dk_color2"><</span> N ; i++ )</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; A [ B [ i ] ] <span class="dk_color2">=</span> C [ i ] * D [ i ] ;</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>This gives an irregular access pattern. The compiler can often vectorize this by using a technique called <em>gather/scatter, </em>which is great because it allows that loop to vectorize, but bad because these gather/scatter instructions aren’t as fast as sequential access. For fast code, it's important to arrange your data structures so that data is accessed in unit stride. (This article later presents how Intel Advisor can show you this information.)</p>
                        </section>

                        <section id="dk_memory_subsystem">
                            <h4>Memory Subsystem Latency and Throughput</h4>
                            <p>Getting your code to fit into the various memory caches and making optimal use of data reuse are crucial to getting the best performance out of your system. The following example indexes by <strong>i</strong> over a large piece of data. This data is too big to fit in cache, which is bad, and is made doubly so by <strong>A</strong> being a multidimensional array:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function"><span class="dk_color1">for</span> ( i <span class="dk_color2">=</span> 0 ; i <span class="dk_color2"><</span> VERY_BIG ; i++ )</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; c [ i ] <span class="dk_color2">=</span> z * A [ i ] [ j ] ]0;</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>References to <strong>A[i][j]</strong> and <strong>A[i+1][j]</strong> are not located next to each other in memory. So, to get each new reference, you need to bring in a new cache line―and potentially evict a cache line. This “cache thrashing” has a negative impact on performance. Techniques such as cache blocking (where you add a new inner loop that indexes over a much smaller range that is designed to fit in cache) can help optimize these types of applications.</p>
                        </section>

                        <section id="dk_branchy_code">
                            <p class="mb-0">&nbsp;</p>
                            <h4>Branchy Code</h4>
                            <p>Applications with a lot of branches (for example, the following loop with <strong>if(cond(i)</strong>) can be vectorized using mask registers to block the single instruction multiple data (SIMD) lanes where the condition is not true. In these iterations, a SIMD lane does not do useful work. Intel Advisor uses the mask use metric (Figure 3). Three elements are being suppressed, giving a mask use of 5/8 = 62.5%.</p>

                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a href=""></a><span class="dk_color1">for</span> ( i <span class="dk_color2">=</span> 0 ; i <span class="dk_color2"><</span> MAX ; i++ )</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                        class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                        class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp;<span class="dk_color1">if</span> ( cond ( i ) )</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                        class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;"
                                        class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; C [ i ] <span class="dk_color2">=</span> A [ i ] + B [ i ] ;</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig3.jpg" width="900"><br>
                            Figure 3. Mask use metric<br>
                            &nbsp;</p>
                            <p>You could access your data in a unit stride fashion and have excellent vector efficiency, but still not get the performance you need because of low mask use (Figure 4). Table 1 shows memory access types.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig4.jpg" width="1048"><br>
                            Figure 4. Mask use versus efficiency<br>
                            &nbsp;</p>
                            <p>Table 1. Memory access types</p>
                            <table style="padding-bottom: 22px;" class="mv_product_table w-100">
                                <thead>
                                    <tr>
                                        <th scope="col">Access Pattern</th>
                                        <th scope="col">Small Memory Footprint</th>
                                        <th scope="col">Large Memory Footprint</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Unit Stride</td>
                                        <td>
                                        <ul>
                                            <li>Effective SIMD</li>
                                            <li>No latency or bandwidth bottlenecks</li>
                                        </ul>
                                        </td>
                                        <td>
                                        <ul>
                                            <li>Effective SIMD</li>
                                            <li>Bandwidth bottleneck</li>
                                        </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Constant Stride</td>
                                        <td>
                                        <ul>
                                            <li>Medium SIMD</li>
                                            <li>Latency bottlenecks are possible</li>
                                        </ul>
                                        </td>
                                        <td>
                                        <ul>
                                            <li>Medium SIMD</li>
                                            <li>Latency and bottlenecks are possible</li>
                                        </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Irregular Access,<br>
                                        Gather/Scatter</td>
                                        <td>
                                        <ul>
                                            <li>Bad SIMD</li>
                                            <li>Latency bottlenecks are possible</li>
                                        </ul>
                                        </td>
                                        <td>
                                        <ul>
                                            <li>Bad SIMD</li>
                                            <li>Latency bottlenecks</li>
                                        </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>

                        <section id="dk_are_bound">
                            <p>&nbsp;</p>
                            <h3 style="font-weight: 350;">Are You Bound by a CPU, VPU, or Memory?</h3>
                            <p>If your application is memory bound, there are several features in Intel Advisor that can help you optimize it. But first, you need to determine if you're memory bound, or CPU or VPU bound. A quick way to determine this is by looking at your instructions. The <strong>Code Analytics</strong> windows (Figure 5) in Intel Advisor can give you a basic way to see the mix of instructions that your code is running.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig5.jpg" width="1000"><br>
                            Figure 5. <strong>Code Analytics </strong>windows<br>
                            &nbsp;</p>
                            <p>A guideline is that applications that are running a lot of memory instructions tend to be memory bound, while those that are running a lot of compute instructions tend to be compute bound. Notice the breakdown in Figure 5. The ratio of scalar to vector instructions is particularly important. Try to have as many vector instructions as possible.</p>
                            <p>Another slightly more complicated technique is to use the <strong>Traits </strong>column in the <strong>Survey </strong>view (Figure 6) in Intel Advisor.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig6.jpg" width="900"><br>
                            Figure 6. <strong>Traits</strong> column in the <strong>Survey </strong>view<br>
                            &nbsp;</p>
                            <p>Think of <strong>Traits </strong>as what the compiler needed to do to vectorize your loop. In the latest vector instructions sets, such as <a class="b_special_a1" href="">Intel® Advanced Vector Extensions 512 (Intel® AVX-512)</a>, there are many new instructions and idioms the compiler can use to vectorize your code. Techniques like register masking and compress instructions, shown in Figure 6, do allow applications to vectorize when this was not previously possible—but sometimes at a cost. Anything the compiler needed to do to get your data structures to fit in a vector (such as memory manipulation) often appears in the <strong>Traits </strong>column. These traits often indicate a problem that you can explore with a Memory Access Pattern analysis.</p>
                        </section>

                        <section id="dk_helpful_feat">
                            <p>&nbsp;</p>
                            <h3 style="font-weight: 350;">Helpful Optimization Features</h3>
                        </section>

                        <section id="dk_roofline">
                            <p class="mb-0">&nbsp;</p>
                            <h4>Roofline Analysis</h4>
                            <p>A Roofline chart is a visual representation of application performance in relation to hardware limitations, including memory bandwidth and computational peaks. It was first proposed by researchers at the University of California at Berkeley in the 2008 paper, <a class="b_special_a1" href="">Roofline: An Insightful Visual Performance Model for Multicore Architectures</a>. In 2014, this model was extended by researchers at the Technical University of Lisbon in a paper called <a class="b_special_a1" href="">Cache-Aware Roofline Model: Upgrading the Loft</a>. Traditionally, Roofline charts are calculated and plotted manually, but Intel Advisor now automatically builds Roofline plots.</p>
                            <p class="mb-0">The Roofline provides insight into:</p>
                            <ul>
                                <li>Location of your performance bottlenecks</li>
                                <li>How much performance is left on the table because of bottlenecks</li>
                                <li>Which bottlenecks are possible to address and which ones are worth addressing</li>
                                <li>Why these bottlenecks are most likely occurring</li>
                                <li>Your next steps</li>
                            </ul>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig7.jpg" width="1000"><br>
                            Figure 7. Roofline analysis<br>
                            &nbsp;</p>
                            <p>The horizontal lines in Figure 7 represent the number of floating-point or integer computations of a given type that your hardware can perform in a given span of time. The diagonal lines represent how many bytes of data a given memory subsystem can deliver per second. Each dot is a loop or function in your program, with its position indicating its performance, which is affected by its optimization and its arithmetic intensity (AI).</p>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_integrated">
                            <h4>Integrated Roofline</h4>
                            <p>The Integrated Roofline model offers a more detailed analysis, showing directly where the bottleneck comes from. Intel Advisor collects data for all memory types using cache simulation (Figure 8).</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig8.jpg" width="1000"><br>
                            Figure 8. Cache simulation in Intel Advisor<br>
                            &nbsp;</p>
                            <p>With this data, Intel Advisor counts the number of data transfers for a given cache level and computes the specific AI for each loop and each memory level. By observing the changes in this traffic from one level to another, and then comparing them to respective roofs representing the best possible bandwidths for these levels, it's possible to pinpoint the memory hierarchy bottleneck for the kernel and determine optimization steps (Figure 9).</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig9.jpg" width="1000"><br>
                            Figure 9. Pinpointing the memory hierarchy bottleneck<br>
                            &nbsp;</p>
                        </section>

                        <section id="memory_access">
                            <p>&nbsp;</p>
                            <h4>Memory Access Pattern (MAP) Analysis</h4>
                            <p>MAP analysis in Intel Advisor gives the deepest insight into how you're accessing memory. Your memory access pattern affects the efficiency of vectorization and how much memory bandwidth you can ultimately achieve. The MAP collection observes data accesses while running and spots the instructions that contain the memory accesses. The data collected and analyzed appears in the <strong>Memory Access Patterns Report</strong> tab of the <strong>Refinement Reports</strong> window.</p>
                            <p>To run a MAP analysis from the GUI (Figure 10), you need to select loops using the checkboxes in the Survey report and run a MAP collection.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig10.jpg" width="1000"><br>
                            Figure 10. Memory Access Patterns report<br>
                            &nbsp;</p>
                            <p>You can also run a MAP collection from the command line. Use the <strong>-mark-up-list</strong> option to select loops to be analyzed.</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">&nbsp; &nbsp; advixe-cl -collect map -mark-up-</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; list<a class="dk_color2" href="">=</a>Multiply.c:78,Multiply.c:71,Multiply.c:50,Multiply.c:6</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">1 -project-dir C:/my_advisor_project -- my_application.exe</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>The Memory Access Patterns report provides information about the types of strides observed in the memory access operations while the loop runs. The tool reports both unit, uniform, and constant strides (Figure 11).</p>
                        </section>

                        <section id="dk_unit_uniform">
                            <p class="mb-0">&nbsp;</p>
                            <h4>Unit and Uniform Stride Types</h4>
                            <ul>
                                <li>Unit stride (stride 1) instruction accesses memory that consistently changes by one element from iteration to iteration.</li>
                                <li>Uniform (stride 0) instruction accesses the same memory from iteration to iteration.</li>
                                <li>Constant stride (stride N) instruction accesses memory that consistently changes by N elements (N&gt;1) from iteration to iteration.</li>
                            </ul>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_variable_stride">
                            <h4>Variable Stride Types</h4>
                            <ul>
                                <li>Irregular stride instruction accesses memory addresses that change by an unpredictable number of elements from iteration to iteration.</li>
                                <li>Gather (irregular) stride is detected for <strong>v(p)gather* </strong>instructions on the Intel® Advanced Vector Extensions 2 (Intel® AVX2) instruction set architecture.</li>
                            </ul>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig11.jpg" width="1000"><br>
                            Figure 11. Stride types<br>
                            &nbsp;</p>
                            <p>Double-click any line in the <strong>Memory Access Patterns Report</strong> tab to see the selected operation's source code (Figure 12).</p>
                            <p>The <strong>Source </strong>and <strong>Details </strong>views (Figure 13) give you insights into another key Intel Advisor memory feature, Memory Footprint.</p>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_memory_footprint">
                            <h4>Memory Footprint Analysis</h4>
                            <p>Memory Footprint is basically the range of memory for given loop accesses. This footprint can be a key indicator of your memory bandwidth. If the range is large, you might not be able to fit it in a cache. Optimization strategies such as cache blocking can make a big difference in these cases. Intel Advisor has three different memory footprint metrics (Figure 14).</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig12.jpg" width="900"><br>
                            Figure 12. The selected operation's source code<br>
                            &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig13.jpg" width="659"><br>
                            Figure 13. <strong>Details </strong>view<br>
                            &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig14.jpg" width="1000"><br>
                            Figure 14. Memory footprint metrics<br>
                            &nbsp;</p>
                            <p class="mb-0">Two basic footprint metrics represent just some aspects of your memory footprint. These metrics are collected by default in Memory Access Pattern (MAP) analysis:</p>
                            <ul>
                                <li><strong>Max Per-Instruction Address Range</strong> represents the maximum distance between minimum and maximum memory address values accessed by instructions in this loop. For each memory access instruction, the minimum and maximum address of its access is recorded and the maximum range of this address for all loop instructions is reported. It covers more than one loop instance, with some filtering, which is why sometimes Intel Advisor conveys uncertainty in this metric and reports it in gray.</li>
                                <li><strong>First Instance Site Footprint</strong> is a more accurate memory footprint, since it detects overlaps in address ranges in the loop iterations and gaps between address ranges accessed by the loop, but is calculated only for the first instance (call) of this loop.</li>
                            </ul>
                            <p class="mb-0">There's a more advanced footprint calculated based on cache simulation, called the Simulated Memory Footprint. This metric shows the summarized and overlap-aware picture across all loop instances, but limited to one thread. It is calculated as the number of unique cache lines accessed during cache simulation multiplied by cache line size. To enable it in the GUI:</p>
                            <ol>
                                <li>In <strong>Project Properties</strong>,<strong> </strong>under <strong>Analysis Target</strong>,<strong> </strong>select <strong>Memory Access Patterns Analysis. </strong></li>
                                <li>Select the <strong>Enable CPU cache simulation </strong>checkbox.</li>
                                <li>Select the <strong>Model cache misses</strong> <strong>and loop footprint</strong> simulation mode in the dropdown list (Figure 15).</li>
                                <li>Select the loops of interest with the checkboxes in the <strong>Survey </strong>view and run a MAP analysis.</li>
                            </ol>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig15.jpg" width="900"><br>
                            Figure 15. Simulated memory footprint<br>
                            &nbsp;</p>
                            <p>To enable the cache simulation in the command line, use the MAP command, as previously specified, with these options: <strong>-enable-cache-simulation and -cachesim-mode=footprint</strong>.</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">advixe-cl -collect map -mark-up-</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">list<span class="dk_color2">=</span>tiling_inter.cpp:56,output.c:1073 -enable-cache-</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">simulation -cachesim-mode=footprint -project-dir</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">C:\my_advisor_project -- my_application.exe</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>You can see the results of the analysis in the Intel Advisor GUI <strong>Refinement Reports</strong> view (Figure 16). The more detailed cache-related metrics―like the total number of memory loads, stores, cache misses, and cache-simulated memory footprint―allow a more detailed study of loop behavior concerning memory. Table 2 shows Intel Advisor footprint metrics on applicability, limitations, and relevance for analyzing different types of codes.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig16.jpg" width="1000"><br>
                            Figure 16. <strong>Refinement Reports </strong>view<br>
                            &nbsp;</p>
                            <p>Table 2. Intel Advisor footprint metrics</p>
                            <table style="padding-bottom: 22px;" class="mv_product_table w-100">
                                <thead>
                                    <tr>
                                        <th scope="row">&nbsp;</th>
                                        <th scope="col">Max Per-<br>
                                        Instruction<br>
                                        Address Range</th>
                                        <th scope="col">First Instance Site<br>
                                        Footprint</th>
                                        <th scope="col">Simulated<br>
                                        Memory<br>
                                        Footprint</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row">Threads analyzed for the loop or site</th>
                                        <td>1</td>
                                        <td>1</td>
                                        <td>1</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Loop instances analyzed</th>
                                        <td>All instances but with some shortcuts</td>
                                        <td>1, only the first<br>
                                        instance</td>
                                        <td>Depends on the<br>
                                        loop-call-count<br>
                                        limit option</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Aware of address range overlap?</th>
                                        <td>No</td>
                                        <td>Yes</td>
                                        <td>Yes</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Suitable for codes with random<br>
                                        memory access</th>
                                        <td>No</td>
                                        <td>No</td>
                                        <td>Yes</td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>

                        <section id="dk_real_word">
                            <p>&nbsp;</p>
                            <p class="mb-0">&nbsp;</p>
                            <h3 style="font-weight: 350;">A Real-World Example</h3>
                            <p>Some of the most common problems in computational science require matrix multiplication. The list of domains that use matrices is almost endless, but AI, simulation, and modeling are just a few examples. The following sample algorithm is a triply nested loop that performs a multiply and an add for each iteration. Besides being computationally intensive, it also accesses a lot of memory. Let's use Intel Advisor to see how much.</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; <span class="token function">for( i<span class="dk_color2">=</span>0; i<span class="dk_color2"><</span> msize; i++ ) {</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; for( j <span class="dk_color2">=</span> 0; j <span class="dk_color2"><</span> msize; j++ ) {</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( k <span class="dk_color2">=</span> 0; k <span class="dk_color2"><</span> msize; k++ ) {</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; c [ i ] [ j ] <span class="dk_color2">=</span> c [ i ] [ j ] + a [ i ] [ k ] * b [ k ] [ j ] ;</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            8
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            9
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            10
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            11
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            12
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            13
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_create_baseline">
                            <h4>Create a Baseline</h4>
                            <p>The elapsed time was 53.94 seconds for our initial run. Figure 17 is a cache-aware Roofline chart. The red dot is the main computational loop. It's far below even DRAM bandwidth, and even farther below L1 bandwidth, which is the maximum bandwidth we're trying to achieve. You can see the precise bandwidth it achieves at each level of the memory hierarchy using the <strong>Code Analytics</strong> tab for the loop (Figure 18).</p>
                            <p>Why is the performance so poor? How can it be improved? These are questions Intel Advisor was designed to answer. First, examine the <strong>Survey </strong>view (Figure 19) to see what's going on and whether Intel Advisor has any recommendations. Intel Advisor has noted an inefficient memory access pattern, and also that the loop has not been vectorized because of an assumed dependency. To examine the memory access pattern, we can run a memory access pattern (MAP) analysis (Figure 20).</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig17.jpg" width="1000"><br>
                                Figure 17. Cache-aware Roofline chart<br>
                                &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig18.jpg" width="616"><br>
                                Figure 18. Data transfers and bandwidth<br>
                                &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig19.jpg" width="1000"><br>
                                Figure 19. Survey view<br>
                                &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig20.jpg" width="1000"><br>
                                Figure 20. MAP analysis<br>
                                &nbsp;</p>
                            <p>Intel Advisor has detected a constant stride on the read access and a uniform stride of 0 for the write. The range of memory that's accessed is 32 MB, far bigger than any of the cache sizes (Figure 21). You can also see how well the caches are performing using the MAP report (Figure 22). Over 2,300 cache lines are missing, so it's no wonder performance is bad. But there are several ways to fix this.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig21.jpg" width="1000"><br>
                                Figure 21. Strides distribution<br>
                                &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig22.jpg" width="436"><br>
                                    Figure 22. MAP report<br>
                                    &nbsp;</p>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_step1">
                            <h4>Step 1</h4>
                            <p>Do a loop interchange so that you don’t need a constant stride and also don’t need to access memory over such a wide range. You can also vectorize the loop by including a pragma <strong>ivdep </strong>that informs the compiler that you don’t have a dependency that prevents vectorization.</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; for ( i <span class="dk_color2">=</span> tidx ; i <span class="dk_color2"><</span> msize ; i <span class="dk_color2">=</span> i + numt ) { </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; for ( k <span class="dk_color2">=</span> 0 ; k <span class="dk_color2"><</span> msize ; k++ ) {</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; <span style="color: green;">#pragma ivdep</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for ( j <span class="dk_color2">=</span> 0 ; j <span class="dk_color2"><</span> msize ; j++ ) {</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            8
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            9
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c [ i ] [ j ] = c [ i ] [ j ] + a [ i ] [ k ] * b [ k ] [ j ] ;</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            10
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            11
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            12
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            13
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            14
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            15
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>The elapsed time for the new run is 4.12 seconds, an improvement of more than 12x. Why is the new performance so much better? First, let's look at the Integrated Roofline chart (Figure 23). Each of the red circles represents the bandwidth of the corresponding memory hierarchy: L1, L2, L3, and DRAM. It shows the computational loop's L1 memory bandwidth, represented by the leftmost red circle, is now 95 GB per second. You can also use the <strong>Survey </strong>view (Figure 24) to see that you're also now vectorized at 100% efficiency using Intel AVX2 instructions.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig23.jpg" width="1000"><br>
                                Figure 23. Integrated Roofline chart<br>
                                &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig24.jpg" width="1000"><br>
                                Figure 24. Survey view<br>
                                &nbsp;</p>
                            <p>The MAP report (Figure 25) informs that all accesses are now unit stride and the maximum address range is 16 KB, well within the range of the cache size. The cache is also performing much better (Figure 26). It dropped to 512 cache misses, down from 2,302. So it's getting better performance, but still isn't near the peak.</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig25.jpg" width="1000"><br>
                                Figure 25. Map report<br>
                                &nbsp;</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig26.jpg" width="436"><br>
                                Figure 26. Cache performance<br>
                                &nbsp;</p>
                        </section>
                        <section id="dk_step2">
                            <p>&nbsp;</p>
                            <h4>Step 2</h4>
                            <p>Implement cache blocking so that your computations are over a smaller range of memory:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; <span class="dk_color1">for</span> ( i0 <span class="dk_color2">=</span> ibeg ; i0 <span class="dk_color2"><</span> ibound ; i0 +<span class="dk_color2">=</span>mblock ) {</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">for</span> ( k0 <span class="dk_color2">=</span> 0 ; k0 <span class="dk_color2"><</span> msize ; k0 +<span class="dk_color2">=</span> mblock ) { </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">for</span> ( j0 <span class="dk_color2">=</span>0 ; j0 <span class="dk_color2"><</span> msize ; j0 +<span class="dk_color2">=</span> mblock ) { </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">for</span> ( i <span class="dk_color2">=</span> i0 ; i <span class="dk_color2"><</span> i0 + mblock ; i++ ) { </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            8
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            9
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="dk_color1">for</span> ( k <span class="dk_color2">=</span> k0 ; k <span class="dk_color2"><</span> k0 + mblock ; k++ ) { </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            10
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            11
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; <span style="color: green;">#pragma ivdep </span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            12
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            13
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; <span style="color: green;">#ifdef ALIGNED </span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            14
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            15
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: green;">#pragma vector aligned </span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            16
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            17
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; <span style="color: green;">#endif //ALIGNED</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            18
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            19
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: green;">#pragma nounroll </span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            20
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            21
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="dk_color1">for</span> ( j <span class="dk_color2">=</span> j0 ; j <span class="dk_color2"><</span> 10 + mblock; j++ ) { </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            22
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            23
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;c [ i ] [ j ] = c [ i ] [ j ] + a [ i ] [ k ] * b [ k ] [ j ] ; </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            24
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            25
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            26
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            27
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            28
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            29
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            30
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            31
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            32
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            33
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; &nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            34
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            35
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">&nbsp; &nbsp; }</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>In the previous code, three additional nested loops were added so that computations are done in sections (or blocks). After one block is done, the computation moves to the next block. The elapsed time of our cache-blocked case is 2.60 seconds, a 1.58x improvement from the previous run (Figure 27). The loop's L1 memory bandwidth is now 182 GB per second, much closer to the L1 roof. Our vectorization and striding have not changed, but we now have only 15 cache misses for our inner loop, and our address range has been reduced to 480 bytes (Table 3).</p>
                            <p style="text-align:center"><img class="great_per_img" src="/img/darshit_image/memory-bottlenecks-fig27.jpg" width="1000"><br>
                                Figure 27. Performance improvements</p>
                            <p>Table 3. Summary of results</p>
                            <table style="padding-bottom: 22px;" class="mv_product_table w-100">
                                <thead>
                                    <tr>
                                        <th scope="row">Run</th>
                                        <th scope="col">Time<br>
                                        Elapsed,<br>
                                        Seconds</th>
                                        <th scope="col">Total GFLOPS</th>
                                        <th scope="col">Memory<br>
                                        Address<br>
                                        Range</th>
                                        <th scope="col">Cache<br>
                                        Misses</th>
                                        <th scope="col">Improvement<br>
                                        (Time)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row">Baseline</th>
                                        <td>53.94</td>
                                        <td>0.32</td>
                                        <td>32 MB</td>
                                        <td>2,302</td>
                                        <td>N/A<br>
                                        (baseline)</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Loop<br>
                                        Interchange</th>
                                        <td>4.19</td>
                                        <td>4.17</td>
                                        <td>16 KB</td>
                                        <td>511</td>
                                        <td>12.87x</td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Blocked</th>
                                        <td>2.6</td>
                                        <td>6.61</td>
                                        <td>480 B</td>
                                        <td>15</td>
                                        <td>20.74</td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>

                        <section id="dk_optimize_accesses">
                            <p>&nbsp;</p>
                            <h4>Optimize Memory Accesses</h4>
                            <p>It's crucial to optimize the memory accesses of your program. Understanding how your program is accessing memory by using a tool like Intel Advisor can help you get the most out of your hardware. With the Roofline and new Integrated Roofline features of Intel Advisor, you can visualize memory bottlenecks. You can get even greater memory insight when you combine Roofline features with MAP analysis.</p>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_related_res">
                            <h4>Related Resources</h4>
                            <ul>
                                <li><a class="b_special_a1" href="">Roofline</a></li>
                                <li><a class="b_special_a1" href="">Integer Roofline</a></li>
                                <li><a class="b_special_a1" href="">Integrated Roofline</a></li>
                            </ul>
                            <p class="mb-0">&nbsp;</p>
                            <p>This article is from The Parallel Universe, Intel's quarterly magazine that helps take your software development into the future with the latest tools, tips, and training to expand your expertise. <a class="b_special_a1" href="">Read More</a></p>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_line">
                            <h2 style="opacity: 0.5;">______<a class="inpage-nav-anchor" id="inpage-nav-12"></a></h2>
                        </section>

                        <section id="dk_you_may">
                            <p>&nbsp;</p>
                            <h3 style="font-weight: 350;">You May Also Like</h3>
                            <div class="mv_deploy_nav_tab">
                                <ul class="nav nav-pills mv_deploy_nav_pills pt-3" id="pills-tab" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link active mv_deploy_nav_link" id="pills-home-tab" data-bs-toggle="pill"
                                                data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home"
                                                aria-selected="true">Related Webinars</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link mv_deploy_nav_link" id="pills-profile-tab" data-bs-toggle="pill"
                                                data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile"
                                                aria-selected="false">Related Podcast</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link mv_deploy_nav_link" id="pills-video-tab" data-bs-toggle="pill"
                                                data-bs-target="#pills-video" type="button" role="tab" aria-controls="pills-video"
                                                aria-selected="false">Get the Software</button>
                                        </li>
                                </ul>
                                <div class="tab-content" id="pills-tabContent">
                                        <!-- 1. Device Information -->
                                        <div class="tab-pane fade show active" id="pills-home" role="tabpanel"
                                            aria-labelledby="pills-home-tab" tabindex="0">
                                            <div class="row">
                                                <div class="col-4">
                                                    <p class="mb-2">&nbsp;</p>
                                                    <p>Find CPU & GPU Performance Headroom Using Roofline Analysis <br> 
                                                    <a class="b_special_a1" href="">Watch</a></p>
                                                </div>
                                                <div class="col-4">
                                                    <p class="mb-2">&nbsp;</p>
                                                    <p>Find and Debug threading and Memory Errors at the source<br> 
                                                    <a class="b_special_a1" href="">Watch</a></p>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- 2. Interface Protocol -->
                                        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab"
                                            tabindex="0">
                                           <div class="">
                                            <p class="mb-2">&nbsp;</p>
                                            <p>Extend the Roofline Model<br> 
                                                <a class="b_special_a1" href="">Listen</a></p>
                                           </div>
                                        </div>
                                        <!-- 3. Design Planning -->
                                        <div class="tab-pane fade" id="pills-video" role="tabpanel" aria-labelledby="pills-video-tab"
                                            tabindex="0">
                                            <div class="">
                                                <p class="mb-2">&nbsp;</p>
                                                <p><a class="b_special_a1" href=""><b>Intel® Advisor</b></a></p>
                                                <p>Design code for efficient vectorization, threading, memory usage, and GPU offloading. Intel Advisor is included as part of the Intel® oneAPI Base Toolkit.</p>
                                                <p><a class="mv_coman_btn" href="">Get It Now</a> </p>
                                                <p><a class="b_special_a1" href="">See All Tools</a></p>
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </section>
                </div>
            </div>
        </div>
    </section>

    <section style="border-top: 1px solid #d7d7d7;" class="container py-5">
        <h4 class="h6">Product and Performance Information</h4>
        <div class="disclaimer" style="font-size: 12px;"><sup>1</sup> Performance varies by use, configuration and other
            factors. Learn more at <a class="b_special_a1" href="">www.Intel.com/PerformanceIndex.</a></div>
        </div>
    </section>

    <!-- footer -->
    <div id="footer"></div>

    <!-- nav script -->
    <script>
        // navbar include  
        fetch('/y_index/y_navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });
        // footer include 
        fetch('/y_index/y_footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <!-- nav script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (document.getElementsByClassName('VK_all_sections section') && document.getElementsByClassName('VK_sidebar_dropdown')) {
                const sections = document.querySelectorAll('.VK_all_sections section');
                const navLinks = document.querySelectorAll('.VK_sidebar_dropdown a');
                const detailsElements = document.querySelectorAll('.VK_sidebar_dropdown details');

                function removeActiveClass() {
                    navLinks.forEach(link => link.classList.remove('VK_sidebar_active_link'));
                    detailsElements.forEach(details => {
                        details.removeAttribute('open');
                        details.setAttribute('close', ''); // Optional: to visually indicate it's closed
                    });
                }

                function activateLinkAndDetails(targetId) {
                    navLinks.forEach(link => {
                        if (link.getAttribute('href') === `#${targetId}`) {
                            link.classList.add('VK_sidebar_active_link');
                            let parentDetails = link.closest('details');

                            // Open all ancestor details elements
                            while (parentDetails) {
                                parentDetails.setAttribute('open', '');
                                parentDetails.removeAttribute('close'); // Optional: remove the closed indicator
                                parentDetails = parentDetails.parentElement.closest('details');
                            }
                        }
                    });
                }

                function onScroll() {
                    let currentSection = '';
                    sections.forEach(section => {
                        const sectionTop = section.getBoundingClientRect().top;
                        const sectionBottom = section.getBoundingClientRect().bottom;

                        // Check if the section is in view
                        if (sectionTop <= 100 && sectionBottom >= 0) {
                            currentSection = section.getAttribute('id');
                        }
                    });

                    if (currentSection) {
                        removeActiveClass();
                        activateLinkAndDetails(currentSection);
                    } else {
                        removeActiveClass();
                    }
                }

                window.addEventListener('scroll', onScroll);
            } else {
                return
            }
        });
    </script>

    <!-- copy script -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".mv_copy_icon").forEach((icon) => {
                icon.addEventListener("click", async function () {
                    try {
                        const toolbar = this.closest(".mv_code_toolbar");
                        const codeBlock = toolbar.querySelector(".code-content");
                        const codeContent = codeBlock.innerText;

                        // Use Clipboard API to copy text
                        await navigator.clipboard.writeText(codeContent);

                        // Hide the copy icon and show the "Copied!" message
                        const message = toolbar.querySelector(".mv_copy_message");
                        this.classList.add("hidden"); // Hide the copy icon
                        message.classList.remove("hidden"); // Show the "Copied!" message

                        // Hide the message and show the icon again after 2 seconds
                        setTimeout(() => {
                            message.classList.add("hidden");
                            this.classList.remove("hidden");
                        }, 2000); // Adjust delay as needed

                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                    }
                });
            });
        });
    </script>

</body>

</html>



