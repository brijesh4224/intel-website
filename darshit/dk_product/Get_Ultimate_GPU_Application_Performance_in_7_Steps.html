<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7 Steps to Ultimate GPU Application Performance</title>

    <!-- font family -->
    <link href="https://fonts.cdnfonts.com/css/intel-clear" rel="stylesheet">
    <link rel="stylesheet" href="/css/dk_arria_10_FPGA_developer_center.css">
    <link rel="stylesheet"href="/css/dk_developer_edge_iot_5G_industrial_automation_see_all_Intelligent_connection_management_for_automated_handover.css">
    <link rel="stylesheet"href="/css/dk_developer_edge_iot_&_5G_optimize_fine_tuning_and_deployment_of_LLMs_on_an_ai_pc.css">
    <link rel="stylesheet" href="/css/rushita_automotive.css">
    <!-- header footer -->
    <link rel="stylesheet" href='/css/yatri.css'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

</head>

<style>
    .dk_color1{
        color: #069 !important;
        font-weight: 700 !important;
    }
    .dk_color2{
        color: #b24501;
    }
    /****** Device Information ******/
        .mv_deploy_nav_tab{
            background-color: #fff;
        }
        .mv_deploy_nav_pills{
            border-bottom: 1px solid #E6E6E6;
            flex-wrap: nowrap !important;
            overflow-x: auto !important;
            width: 100% !important;
        }
        .mv_deploy_nav_link {
            color: #0068b5 !important;
        }
        .mv_deploy_nav_pills .mv_deploy_nav_link{
            background-color: #fff !important;
            text-wrap: nowrap !important;
        }
        .mv_deploy_nav_pills .mv_deploy_nav_link.active{
            border-radius: 0rem !important;
            color: #0068b5 !important;
            border-bottom: 4px solid #00aeef;
            background-color: #F2F2F2 !important;
        }
        .mv_deploy_nav_pills .mv_deploy_nav_link:hover{
            border-radius: 0rem;
            background-color: #F2F2F2 !important;
        }
        .mv_gpu_flex_padd{
            padding: 3rem 0rem;
        }
        .mv_gpu_flex{
            align-content: center;
        }
        .mv_gpu_flex h1{
            font-weight: 350;
        }
        .mv_gpu_flex p{
            margin-bottom: .5rem;
        }
        .mv_gpu_flex p a{
            color: #0068b5;
            border-bottom: 1px dashed #0068b5;
        }
        .mv_gpu_flex p a:hover{
            border-bottom: 1px solid #0068b5;
        }
        .mv_gpu_flex_img img{
            width: 100%;
        }
        .mv_enable_boundless_padd{
            padding: 3rem 0rem;
        }
        .mv_enable_img img{
            width: 100%;
            margin-bottom: 10px;
        }
    @media(max-width:768px){
        .mv_product_table{
            width: 100% !important;
        }
    }
</style>

<body>
    <!-- header -->
    <div id="navbar"></div>

    <!-------------------------------------------------------------------------->
    <section class="m_ai_tdrop" style="border-bottom: 1px solid rgb(226, 221, 221);">
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Developers
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Topics & Technologies</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tools</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resources & Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Learn</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Community & Events</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Developer Programs</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Help</a></li>
            </ul>
        </div>
    
        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Tools
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Software Catalog</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">oneAPI</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Open Edge Platform</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">FPGA</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Active Management Technology SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Advisor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® AI Reference Models</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Collaboration Suite for WebRTC SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Tiber™ AI Cloud</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Distribution for Python*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Distribution for GDB*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® DPC++ Compatibility Tool</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Dynamic Application Loader</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Frameworks</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Embree</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Extension for Scikit-learn*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Fortran Compiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Graphics Performance Analyzers</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Homomorphic Encryption Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® In-Band Manageability</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Performance Primitives</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Simulation Infrastructure with Modeling</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Instruction Set Architecture (ISA) Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Intelligent Storage Acceleration Library (Intel® ISA-L)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Modin*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® MPI Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Neural Compressor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenCL™ Runtime</a></li>   
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Image Denoise</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Path Guiding Library (Intel® Open PGL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Pin</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Platform Analysis Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Software</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OpenSWR</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenVINO™ Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Volume Kernel Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Optimization for XGBoost*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay for Hydra*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay Studio</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">PyTorch* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">TensorFlow* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Rendering Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Smart Edge Open</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Guard Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Secure Device Onboard</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Development Emulator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Quantum SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Query Processing Library (Intel® QPL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Video Processing Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® VTune™ Profiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resellers</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                oneAPI
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Overview</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Data Parallel C++/SYCL*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Toolkits</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Tech Articles & How-Tos</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Components</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Code Samples</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Support</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Tech Articles & How-Tos
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">News Updates</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Webinars</a></li>
            </ul>
        </div>

        <div class="m_ai_shlash">/</div>
        <div class="m_ai_httl">7 Steps to Ultimate GPU Application Performance</div>
    </section>
    <!-------------------------------------------------------------------------------------------------------->

    <!-- VMware Horizon -->
    <section>
        <div class="mv_vmware_bg_color">
            <div class="container">
                <div class="mv_vmware_padd">
                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div style="color: #fff;">
                                <h2 style="font-weight: 350; margin-bottom: 1.5rem;">Get Ultimate GPU Application Performance in 7 Steps</h1>
                                <h5>A Tutorial on GPU Profiling using Intel® VTune™ Profiler</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="container py-5">
        <div class="row">
            <div class="d-flex justify-content-end col-xl-10 py-3 d-md-none">
                <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
            </div>
            <div class="col-lg-3 col-md-4">
                <!-- nav -->
                <div class="VK_sticky_side_bar VK_side_bar_postion_stickey">
                    <div>
                        <div class="VK_sidebar_dropdown">
                            <details>
                                <summary>
                                    <a href="#dk_quick_overview" class="text-decoration-none VK_a">
                                        Quick Overview: What Is VTune™ Profiler?
                                    </a>
                                </summary>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <a href="#dk_key_features" class="text-decoration-none VK_a my-1">
                                            Key Features
                                        </a>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <a href="#dk_rich_set" class="text-decoration-none VK_a my-1">
                                            Rich Set of Profiling Capabilities
                                        </a>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <a href="#dk_command_line" class="text-decoration-none VK_a my-1">
                                            Command Line Options
                                        </a>
                                    </li>
                                </ul>
                            </details>
                            <details>
                                <summary>
                                    <a href="#dk_let_get_it" class="text-decoration-none VK_a">
                                        Let’s Get to It
                                    </a>
                                </summary>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <details>
                                            <summary>
                                                <a href="#dk_example_workflow" class="text-decoration-none VK_a">
                                                   Example Workflow: VTune Profiling on CPU and GPU in 7 Steps
                                                </a>
                                            </summary>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_step1_test" class="text-decoration-none VK_a my-1">
                                                        Step 1: Test Application; SYCL Implementation of iso3dfd
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_step2_run" class="text-decoration-none VK_a my-1">
                                                        Step 2: Run Application on CPU
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_vtune_profiler" class="text-decoration-none VK_a my-1">
                                                        VTune Profiler Command Line for Collecting and Reporting
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_run_vtune" class="text-decoration-none VK_a my-1">
                                                        Run VTune to Collect GPU-offload Analysis and Generate Report
                                                    </a>
                                                </li>
                                            </ul>
                                        </details>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <details>
                                            <summary>
                                                <a href="#dk_step3_run_offload" class="text-decoration-none VK_a">
                                                    Step 3: Run and Sample Application Using GPU Offload
                                                </a>
                                            </summary>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_command_line" class="text-decoration-none VK_a my-1">
                                                         a) Command Line for Running the Basic SYCL Implementation on GPU
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_vtune_command" class="text-decoration-none VK_a my-1">
                                                        b) VTune Command Line for Collecting and Reporting
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_run_vtune_collect" class="text-decoration-none VK_a my-1">
                                                        c) Run VTune to Collect GPU-Offload Analysis and Generate Report
                                                    </a>
                                                </li>
                                            </ul>
                                        </details>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <details>
                                            <summary>
                                                <a href="#dk_step4_gpu" class="text-decoration-none VK_a">
                                                    Step 4: GPU Optimization-1 (Linear Indexing)
                                                </a>
                                            </summary>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_command_implemen" class="text-decoration-none VK_a my-1">
                                                        a) Command Line for Running the Linear Indexed SYCL Implementation on GPU
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_vtune_collecting" class="text-decoration-none VK_a my-1">
                                                        b) VTune Command Line for Collecting and Reporting
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_run_vtune_collect2" class="text-decoration-none VK_a my-1">
                                                        c) Run VTune to Collect Hotspots and Generate Report
                                                    </a>
                                                </li>
                                            </ul>
                                        </details>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <details>
                                            <summary>
                                                <a href="#dk_step5_private" class="text-decoration-none VK_a">
                                                    Step 5: Optimization-2_i (GPU Private Memory)
                                                </a>
                                            </summary>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_command_sycl" class="text-decoration-none VK_a my-1">
                                                        a) Command Line for Running the SYCL Private Memory Implementation on GPU
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_vtune_reporting" class="text-decoration-none VK_a my-1">
                                                        b) VTune Command Line for Collecting and Reporting
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_run_vtune_report" class="text-decoration-none VK_a my-1">
                                                        c) Run VTune to Collect Hotspots and Generate Report
                                                    </a>
                                                </li>
                                            </ul>
                                        </details>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <details>
                                            <summary>
                                                <a href="#dk_step6_memory" class="text-decoration-none VK_a">
                                                    Step 6: Optimization-2_k (GPU Private Memory)
                                                </a>
                                            </summary>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_command_private" class="text-decoration-none VK_a my-1">
                                                        a) Command Line for Running the SYCL Private Memory Implementation on GPU
                                                    </a>
                                                </li>
                                            </ul>
                                        </details>
                                    </li>
                                </ul>
                                <ul class="list-unstyled ps-3 mb-0">
                                    <li>
                                        <details>
                                            <summary>
                                                <a href="#dk_step7_memory" class="text-decoration-none VK_a">
                                                    Step 7: Optimization-3 (Shared Local Memory)
                                                </a>
                                            </summary>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_command_shared" class="text-decoration-none VK_a my-1">
                                                       a) Command Line for Running the SYCL Shared Local Memory Implementation on GPU
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_vtune_collecting3" class="text-decoration-none VK_a my-1">
                                                        b) VTune Command Line for Collecting and Reporting
                                                    </a>
                                                </li>
                                            </ul>
                                            <ul class="list-unstyled ps-3 mb-0">
                                                <li>
                                                    <a href="#dk_run_hotspots" class="text-decoration-none VK_a my-1">
                                                        c) Run VTune to Collect Hotspots and Generate Report
                                                    </a>
                                                </li>
                                            </ul>
                                        </details>
                                    </li>
                                </ul>
                            </details>
                            <p class="m-0">
                                <a href="#dk_summary" class="text-decoration-none VK_a">
                                    Summary
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_learn_more" class="text-decoration-none VK_a">
                                    Learn More
                                </a>
                            </p>
                            <p class="m-0">
                                <a href="#dk_get_software" class="text-decoration-none VK_a">
                                    Get the Software
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
                <!-- thinkcode -->
                <div class="dk_things_code_main">
                    <div class="dk_things_code">
                        <div class="dk_high_quality">
                            <p class="mb-4"><b>Get the Latest on All Things CODE</b></p>
                        </div>
                    <div class="dk_get_code">
                        <button class="dk_button">Sign Up</button>
                    </div>
                </div> 
                <div class="mt-3">
                    <p><b>Intel Corporation</b></p>
                    <p><i><b>Rupak Roy</b>, Technical Consulting Engineer; <a class="b_special_a2" href="">LinkedIn</a></i></p>
                    <p><i><b>Mohammad Zubair</b>, Professor, Old Dominion University; &nbsp;<a class="b_special_a2" href="">LinkedIn</a></i></p>
                    <p><i><b>Cory Levels</b>, Software Technical Consulting Engineer; <a class="b_special_a2" href="">LinkedIn</a></i></p>
                    <p><i><b>Xiao Zhu</b>, Software Technical Consulting Engineer; <a class="b_special_a2" href="">LinkedIn</a></i></p>
                    <p><i><b>Vladimir Tsymbal</b>, Development Tools Software Engineering Manager; <a class="b_special_a2" href="">LinkedIn</a></i></p>
                    <p><i><b>Mourad Bouache</b>, Product Marketing Engineer; <a class="b_special_a2" href="">LinkedIn</a></i>   &nbsp;</p>
                </div>
                </div>
            </div>
            <div class="col-lg-9 col-md-8">
                <div class="d-md-flex justify-content-end col-xl-10 py-3 d-none">
                    <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                    <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
                </div>
                <div class="col-xl-10 VK_all_sections">
                    <div style="padding-bottom: 16px;">
                        <p>&nbsp;</p>
                        <p>Following the Innovation 2022 session on Code Design and Optimization for Next Generation CPUs and Compute Accelerators with oneAPI Analysis Tools, our application optimization experts decided to dive deeper into the real world usage of the multiarchitecture performance profiling capabilities presented there.</p>
                        <p class="mb-0">This is a step-by-step journey that takes a real-world application and …</p>
                        <ol>
                            <li>Executes it first on the CPU,</li>
                            <li>Enables SYCL*-based GPU offload, and</li>
                            <li>Improves performance by applying findings and guidance from <a class="b_special_a1" href="">Intel® VTune™ Profiler</a>, an analysis tool for quickly finding and fixing bottlenecks in applications, systems, and system configurations (CPUs, GPUs, and other accelerators).</li>
                        </ol>
                        <p>We will set the baseline and then will illustrate the benefits in performance analysis you can reap from this comprehensive and powerful tool when it’s applied to workloads running on a GPU.</p>
                        <p>After reading this article, you will be ready to optimize your own heterogeneous application on both CPU and GPU.</p>
                        <p>Note that this tutorial will be done in the <a class="b_special_a1" href="">Intel® DevCloud</a> environment, a free cloud-base sandbox to learn about programming using Intel® oneAPI tools on the latest Intel® hardware.</p>
                        <p>&nbsp;</p>
                    </div>
                    <section id="dk_quick_overview">
                        <h3><strong>Quick Overview: What Is VTune™ Profiler?</strong></h2>
                        <p>It is a powerful analysis and optimization tool that helps locate software performance bottlenecks by collecting, analyzing, and displaying system-wide performance data down to the source level. It provides profiling capabilities for application performance, system performance, and system configuration for HPC, cloud, IoT, and more.</p>
                        <p class="mb-0">&nbsp;</p>
                    </section>
                    <section id="dk_key_features">
                        <h4><strong>Key Features</strong></h3>
                        <ul>
                            <li><strong>Analyze Source Code</strong>: Detect the loops/functions of source code that consume the most time and memory.&nbsp;</li>
                            <li><strong>Tune for CPU, GPU &amp; FPGA</strong>: Optimize for any supported hardware.&nbsp;</li>
                            <li><strong>Optimize Offload</strong>: Tune OpenMP*/SYCL offload performance.&nbsp;</li>
                            <li><strong>Wide Range of Performance Profiles</strong>: Parallelism, memory bottleneck, cache usage, core utilization, and more.&nbsp;</li>
                            <li><strong>Supported Languages:</strong> Includes most of the popular languages, e.g. SYCL, C, C++, Fortran, Python, Go, Java, or a mix.&nbsp;</li>
                        </ul>
                        <p class="mb-0">&nbsp;</p>
                    </section> 
                        <section id="dk_rich_set">
                            <h4><strong>Rich Set of Profiling Capabilities</strong></h4>
                            <p class="mb-0">Intel VTune Profiler helps design an efficient algorithm by:</p>
                            <ul>
                                <li>Locating the most time and memory-consuming part of your code.</li>
                                <li>Locating microarchitecture bottlenecks and identifying the most significant hardware issues and memory-access related issues.</li>
                                <li>Providing insights on how efficiently the code is threaded to increase parallelism.</li>
                                <li>Reporting how effectively the hardware processes I/O traffic for I/O intensive workloads.</li>
                                <li>Optimizing the offload schema and analyzing the code bottlenecks for accelerators.</li>
                            </ul>
                            <p>Additionally, VTune assists with profiling the system behavior of longer-running applications. <strong>Figure-1</strong> gives you a snapshot of all the workload performance aspects it touches on a given hardware platform.</p>
                            <p style="text-align:center"><img class="w-100" alt="" src="/img/darshit_image/f1-performance-snapshot-vtune.png" width="1439"></p>
                            <p class="utility-text-1" style="text-align:center">Figure-1: Platform Specific Workload Performance Characterization</p>
                            <p>As you can see, a complete performance profile for your workload can be established allowing you to determine exactly where to put your effort and how to take full advantage of your heterogeneous hardware setup.</p>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_command_line">
                            <h4><strong>Command Line Options</strong></h4>
                            <p>Here’s a quick overview of VTune’s command line usage:</p>
                            <ol>
                                <li><strong>Run and Collect VTune Data</strong><br>
                                <br>
                                The common format of a VTune command line:<br>
                                <br>
                                <em>vtune -collect &lt;collectionType&gt; -knob &lt;knobName=knobValue&gt; -result-dir vtune_data&nbsp; [--] &lt;targetApplication&gt;</em><br>
                                <br>
                                Other options: <em>-search-dir=&lt;string&gt;, -source-search-dir=&lt;string&gt;, ...</em><br>
                                <br>
                                Various types of profiling data can be collected like <em>hotspots</em>, <em>memory-consumption</em>, <em>memory-access</em>, <em>threading</em>...&nbsp; Various collection types specifically target GPU like <em>gpu-hotspots</em>, <em>gpu-offload</em><br>
                                <br>
                                Use the command line help to find out available collection types:<br>
                                <br>
                                <em>vtune --help collect</em><br>
                                <br>
                                Use the command line to find out the supported knobs of a certain collection type:<br>
                                <br>
                                <em>vtune --help collect hotspots</em><br>
                                &nbsp;</li>
                                <li><strong>Generate HTML Report for Collected VTune Data:</strong><br>
                                <br>
                                <em>vtune -report summary -result-dir vtune_data -format html -report-output $(pwd)/summary.html</em><br>
                                <br>
                                Various types of report can be generated like <em>summary</em>, <em>top-down</em>, <em>callstacks</em>…<br>
                                <br>
                                Use the command line help to find out more:<br>
                                <br>
                                <em>vtune --help report</em><br>
                                &nbsp;</li>
                                <li><strong>Download and View VTune Results</strong>
                                <ul style="list-style-type:circle">
                                    <li>Download the result folder from the server to your local machine</li>
                                    <li>Open VTune from the results folder file using VTune&nbsp; GUI</li>
                                </ul>
                                </li>
                            </ol>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_let_get_it">
                            <p class="mb-0">&nbsp;</p>
                            <h3 style="opacity: 1;"><strong>Let’s Get to It</strong></h2>
                            <p class="mb-0">Now it’s time to apply VTune to a SYCL open industry standard-based heterogeneous application with GPU offload. We will do the following:</p>
                            <ol>
                                <li>Analyze the application on a CPU and understand the nature of the workload.</li>
                                <li>Analyze the application on a GPU and find the bottlenecks.</li>
                                <li>Optimize the application step-by-step based on the reports generated by Intel VTune Profiler.</li>
                            </ol>
                        </section>

                        <section id="dk_example_workflow">
                            <p>&nbsp;</p>
                            <h4 style="opacity: 1;"><strong>Example Workflow: VTune Profiling on CPU and GPU in 7 Steps</strong></h3>
                            <p>We will now build, run, collect data, and display the VTune summary when running on CPU and GPU.</p>
                        </section>

                        <section id="dk_step1_test">
                            <p class="mb-0">&nbsp;</p>
                            <h4><strong>Step 1: Test Application; SYCL Implementation of iso3dfd</strong></h4>
                            <p>The iso3dfd application is a three-dimensional stencil to simulate the wave propagation in a 3D isotropic medium. CPP and SYCL implementation of iso3dfd will be used to collect VTune data and analyze the generated result.</p>
                            <p class="mb-0">The following are the source code files of the iso3dfd application that will be profiled:</p>
                            <ul>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">1_CPU_only.cpp</a></li>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">2_GPU_basic.cpp</a></li>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">3_GPU_linear.cpp</a></li>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">4_GPU_private_memory_I.cpp</a></li>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">5_GPU_optimized.cpp</a></li>
                            </ul>
                            <p>The example application will be invoked from the command line as follows:</p>
                            <p><em>./&lt;executable_name&gt; n1 n2 n3 Iterations</em></p>
                            <p>Here,&nbsp; <em>n1 n2 n3</em>: Defines the three-dimensional grid sizes for the stencil</p>
                            <p><em>Iterations</em>: Number of timesteps to compute.&nbsp;</p>
                            <p><em>kernel_iterations:</em> Number of cells, which one kernel iterates over - (only for 5_GPU_optimized binary)</p>
                            <p><em>n2_WGS n3_WGS:</em> Work group size in second and third dimension (only for 5_GPU_optimized binary)</p>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_step2_run">
                            <h4 style="opacity: 1;"><strong>Step 2: Run Application on CPU</strong></h4>
                           <p>We start with a simple serialized CPP implementation of iso3dfd. We will run this application on CPU following 3 easy steps.</p>
                           <h5>Command Line for Running the SYCL Implementation on CPU</h5>
                           <p><strong>First</strong>, we will write the commands to a file named <em>run_iso3dfd.sh</em></p>
                            
                           <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile run_iso3dfd.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh <a class="dk_color2" href="">></a> /dev/null 2<a class="dk_color2"href="">>&</a>1</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">chmod -R 777 guided_iso3dfd_code_sample/build/src/1_CPU_only</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">./guided_iso3dfd_code_sample/build/src/1_CPU_only 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>After writing to <em>run_iso3dfd.sh</em> is complete, we will run the script:</p>

                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function"> <a class="dk_color2" href="">!</a> chmod 755 q; chmod 755 run_iso3dfd.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href=""> $ ( command -v qsub ) </a>" ]; <a class="dk_color1" href="">then</a> ./ q run_iso3dfd.sh ; <a class="dk_color1" href="">else</a> ./ run_iso3dfd.sh ; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="dk_vtune_profiler">
                            <p class="mb-0">&nbsp;</p>
                            <h4 style="opacity: 1;">VTune Profiler Command Line for Collecting and Reporting</h4>
                            <p><strong>Second</strong>, we will use VTune Profiler to determine whether the application is suitable for offloading to GPU, providing an assessment of offload improvement opportunities.</p>
                            <p>We will write the VTune command line to collect microarchitecture analysis and generate the summary report to a file named vtune_collect.sh:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile vtune_collect.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">type <a class="dk_color2" href="">=</a> uarch-exploration</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color1" href="">echo</a> "<a style="color: blue;" href="">Vtune Collect</a> <a class="dk_color2" href="">$type</a>"</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -collect uarch-exploration -knob collect-memory-bandwidth=true -search-dir=guided_iso3dfd_code_sample -source-search-dir=guided_iso3dfd_code_sample/build/src -result-dir vtune_data_CPU_uarch --  ./guided_iso3dfd_code_sample/build/src/1_CPU_only 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            8
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            9
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color1" href="">echo</a> <a style="color: blue;" href="">"Vtune Summary Report"</a></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            10
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            11
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -report summary -result-dir vtune_data_CPU_uarch -format html -report-output <a class="dk_color2" href="">$(pwd)</a> /vtune_data_cpu_uarch.html</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="dk_run_vtune">
                            <p class="mb-0">&nbsp;</p>
                            <h4>Run VTune to Collect GPU-offload Analysis and Generate Report</h4>
                            <p><strong>Third,</strong> after writing to the file is complete, we run the script:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 vtune_collect.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q vtune_collect.sh; <a class="dk_color1" href="">else</a> ./vtune_collect.sh; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>Here are the snapshots of the Microarchitecture Exploration Analysis of the serialized CPP implementation on CPU: &nbsp;</p>
                            <p style="text-align:center"><img class="w-100" alt="" src="/img/darshit_image/f2-micro-pipe-diagram-of-intel-vtune-microarchitecture.png" width="1513"><p style="text-align:center"><img class="w-100" alt="" height="" src="/img/darshit_image/f2-micro-pipe-diagram-of-intel-vtune-microarchitecture.png" width="1513"></p></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-</em><em>2</em><em>: Micro-</em><em>p</em><em>ipe </em><em>d</em><em>iagram of &nbsp;Intel </em>VTune Microarchitecture Exploration</p>
                            <p>&nbsp;</p>
                            <p style="text-align:center"><img class="w-100" alt="" height="693" src="/img/darshit_image/f3-effective-physical-core-utilization-histogram-of-intel-vtune-microarchitecture.png" width="1523"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-3: Effective physical core utilization histogram of Intel VTune Microarchitecture Exploration</em></p>
                            <p>&nbsp;</p>
                            <p>The diagram in <strong>Figure-2</strong> represents inefficiencies in CPU usage. It can be treated as a pipe with an output flow equal to “pipe-efficiency.” The gray region in this diagram is memory-bound, the green one is the retired instructions, and the red area is core-bound.</p>
                            <p><strong>Figure-3</strong> displays a histogram of the wall time the specific number of CPUs are running. As can be seen, the Effective CPU Utilization is quite low because the application is serialized.</p>
                            <p class="mb-0"><strong>Observations and Recommendations</strong></p>
                            <ul> 
                                <li>The application is core-bound (bottlenecks are non-memory)</li> 
                                <li>Low effective physical core utilization</li> 
                                <li>Requires multi-threaded parallel execution</li> 
                                <li>Requires more execution units</li> 
                            </ul>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_step3_run_offload">
                            <h4><strong>Step 3: Run and Sample Application Using GPU Offload</strong><a class="inpage-nav-anchor" id="inpage-nav-1-1"></a></h3>
                            <p>Now let us move our SYCL implementation of iso3dfd to be executed on a GPU. It will be run on the GPU without any specific optimization.</p>
                            <p class="mb-0">Again, we follow the 3 steps of:</p>
                            <ol style="list-style-type:lower-alpha"> 
                                <li>Setting up the command line for the application itself.</li> 
                                <li>Collecting and reporting on performance data.</li> 
                                <li>Generating the comprehensive performance report.</li> 
                            </ol>
                            <p class="mb-0">Changes made in code:</p>
                            <ul> 
                                <li>Added SYCL buffers and accessors to code.</li> 
                                <li>Added Queue to offload kernels to GPU.</li> 
                                <li>Introduced SYCL kernel to compute the cells.</li> 
                            </ul>
                        </section>
                        <section id="dk_command_line">
                            <h4>a) Command Line for Running the Basic SYCL Implementation on GPU<a class="inpage-nav-anchor" id="inpage-nav-1-1-undefined"></a></h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile run_iso3dfd.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh <span class="dk_color2">></span> /dev/null 2 <span class="dk_color2">>&</span>1</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">chmod -R 777 guided_iso3dfd_code_sample/build/src/2_GPU_basic</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">./guided_iso3dfd_code_sample/build/src/2_GPU_basic 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p><em><em>Overwriting run_iso3dfd.sh complete</em></em></p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 q; chmod 755 run_iso3dfd.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q run_iso3dfd.sh; <a class="dk_color1" href="">else</a> ./run_iso3dfd.sh; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        
                        <section id="dk_vtune_command">
                            <h4>b) VTune Command Line for Collecting and Reporting</h4>
                            <p>Run VTune on the basic SYCL implementation on GPU, identify the bottlenecks and opportunities for improvement on GPU.</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile vtune_collect.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">type=gpu-offload</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="dk_color1" href="">echo</span> " <span style="color: blue;">Vtune Collect</span>  <span class="dk_color2" href="">$type</span>"</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -collect gpu-offload -knob collect-programming-api=true -search-dir=guided_iso3dfd_code_sample -source-search-dir=guided_iso3dfd_code_sample/build/src -result-dir vtune_data_2_offload -- ./guided_iso3dfd_code_sample/build/src/2_GPU_basic 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            8
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            9
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">type=gpu-hotspots</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            10
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="dk_color1" href="">echo</span> " <span style="color: blue;">Vtune Collect</span>  <span class="dk_color2" href="">$type</span>"</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            11
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -collect gpu-hotspots -search-dir=guided_iso3dfd_code_sample -source-search-dir=guided_iso3dfd_code_sample/build/src -result-dir vtune_data_2_GPU_hotspots -- ./guided_iso3dfd_code_sample/build/src/2_GPU_basic 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            12
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="dk_color1">echo</span> <span style="color: blue;">"Vtune Summary Report"</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            13
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            14
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -report summary -result-dir vtune_data_2_offload -format html -report-output <span class="dk_color2">$(pwd)</span> /vtune_data_2_offload.html</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="dk_run_vtune_collect">
                            <p>&nbsp;</p>
                            <h4>c) Run VTune to Collect GPU-Offload Analysis and Generate Report</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 vtune_collect.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q vtune_collect.sh; <a class="dk_color1" href="">else</a> ./vtune_collect.sh; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>Here is a snapshot of GPU Oflload analysis of basic SYCL implementation run on GPU:</p>
                            <p style="text-align:center"><img class="w-100" alt="" src="/img/darshit_image/f4-graphics-view-of-gpu-offload-analysis.png" width="1523"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-4: Graphics view of GPU Offload Analysis</em></p>
                            <p class="utility-text-1">We also ran the GPU Compute/Media Hotspots analysis of basic SYCL implementation on GPU:</p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f5a-bandwidth-utilization-histogram-of-gpu-compute.png" width="1549"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-5a: Bandwidth Utilization Histogram of GPU Compute/ Media Hotspots Summary View</em></p>
                            <p class="utility-text-1" style="text-align:center">&nbsp;</p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f5b-summary-view-of-gpu-compute-media-hotspots.png" width="1543"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-5b: Summary View of GPU Compute/ Media Hotspots</em></p>
                            <p><strong>Figure-4</strong> shows the breakdown of total time taken by each GPU compute task/host call stack.</p>
                            <p><strong>Figure-5a</strong> shows the Bandwidth utilization histogram that displays the wall time the bandwidth was used by a certain value.</p>
                            <p><strong>Figure-5b</strong> shows the Wall Time (Elapsed time) from the beginning to end of VTune collection.It also shows the time the application spent on GPU.</p>
                            <p class="mb-0"><strong>Observations and Recommendations</strong></p>
                            <ul> 
                                <li>Improvement in execution time</li> 
                                <li>Insignificant data transfer overhead</li> 
                                <li>Low Memory Bandwidth Utilization</li> 
                                <li>Reduce number of arithmetic operations</li> 
                                <li>Improve the memory bandwidth utilization</li> 
                            </ul>
                        </section>

                        <section id="dk_step4_gpu">
                            <p>&nbsp;</p>
                            <h3><strong>Step 4: GPU Optimization-1 (Linear Indexing)</strong></h3>
                            <p>Now let us apply the learnings from the GPU performance analysis and optimize execution on the GPU.</p>
                            <p>Based on the data we collected with our basic offload implementation, we improve indexing and convert it from 3-dimensional to 1-dimensional. This allows us to reduce the number of integer operations.</p>
                            <p class="mb-0">Code changes:</p>
                            <ul> 
                                <li>Flatten the SYCL buffers</li> 
                                <li>Change the index calculation method</li> 
                                <li>Modify how neighbor cells are accessed</li> 
                            </ul>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_command_implemen">
                            <h4>a) Command Line for Running the Linear Indexed SYCL Implementation on GPU</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile run_iso3dfd.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh <span class="dk_color2">></span> /dev/null 2 <span class="dk_color2">>&</span>1</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">chmod -R 777 guided_iso3dfd_code_sample/build/src/3_GPU_linear</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">./guided_iso3dfd_code_sample/build/src/3_GPU_linear 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p><em><em>Overwriting run_iso3dfd.sh complete</em></em></p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 q; chmod 755 run_iso3dfd.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q run_iso3dfd.sh; <a class="dk_color1" href="">else</a> ./run_iso3dfd.sh; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_vtune_collecting">
                            <h4>b) VTune Command Line for Collecting and Reporting</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">%%writefile vtune_collect.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">type <span class="dk_color2">=</span> gpu-hotspots</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="dk_color1">echo</span> " <span style="color: blue;">Vtune Collect</span> <span class="dk_color2">$type</span>"</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -collect gpu-hotspots -search-dir=guided_iso3dfd_code_sample -source-search-dir=guided_iso3dfd_code_sample/build/src -result-dir vtune_data_3_GPU_hotspots -- ./guided_iso3dfd_code_sample/build/src/3_GPU_linear 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>&nbsp;</p>
                        </section>
                        <section id="dk_run_vtune_collect2">
                            <h4>c) Run VTune to Collect Hotspots and Generate Report</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 vtune_collect.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q vtune_collect.sh; <a class="dk_color1" href="">else</a> ./vtune_collect.sh; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>Here is a snapshot of GPU Compute/Media Hotspots analysis of SYCL linear indexing implementation on GPU:</p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f6-summary-view-of-gpu-compute-media-hotspots.png" width="1537"></p>
                            <p class="utility-text-1" style="text-align: center;"><em>Figure-6: Summary view of GPU Compute/ Media Hotspots</em></p>
                            <p><strong>Figure-6</strong> shows high Execution Unit (EU) Stalled/Idle time. The typical reason for this inefficiency is that performance of the code on the GPU is bounded by GPU L3 bandwidth.</p>
                            <p class="mb-0"><strong>Observations and Recommendations</strong></p>
                            <ul> 
                                <li>3x Improvement in elapsed time and 4x improvement in GPU time</li> 
                                <li>Moderate Memory Bandwidth Utilization</li> 
                                <li>High stall in Execution Unit (EU) arrays</li> 
                                <li>GPU L3 cache bandwidth-bound</li> 
                                <li>Break large structures into smaller arrays so that they can fit into registers</li> 
                            </ul>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_step5_private">
                            <h4><strong>Step 5: Optimization-2_i (GPU Private Memory)</strong><a class="inpage-nav-anchor" id="inpage-nav-1-3"></a></h3>
                            <p>Continuing our optimization journey, we now introduce private arrays to the SYCL kernel to improve cache utilization.</p>
                            <p class="mb-0">Important code changes:</p>
                            <ul> 
                                <li>Kernel range converted from 3d to 2d.</li> 
                                <li>Change in index calculation</li> 
                                <li>Add private arrays to contain coefficients</li> 
                                <li>Add loops to shift stencil data</li> 
                            </ul>
                        </section>

                        <section id="dk_command_sycl">
                            <h4>a) Command Line for Running the SYCL Private Memory Implementation on GPU</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile run_iso3dfd.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh <span class="dk_color2">></span> /dev/null 2 <span class="dk_color2">>&</span>1</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">chmod -R 777 guided_iso3dfd_code_sample/build/src/4_GPU_private_memory_I</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">./guided_iso3dfd_code_sample/build/src/4_GPU_private_memory_I 256 256 256 10</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p><em><em>Overwriting run_iso3dfd.sh complete</em></em></p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 q; chmod 755 run_iso3dfd.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q run_iso3dfd.sh; <a class="dk_color1" href="">else</a> ./run_iso3dfd.sh; <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_vtune_reporting">
                            <h4>b) VTune Command Line for Collecting and Reporting</h4>
                            <p>This is the command line for running gpu-hotspots on SYCL Private Memory implementation for GPU:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile vtune_collect.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">type<span class="dk_color2">=</span>gpu-hotspots</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="dk_color1">echo</span> " <span style="color: blue;">Vtune Collect</span> <span class="dk_color2">$type</span>"</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -collect gpu-hotspots -search-dir=guided_iso3dfd_code_sample -source-search-dir=guided_iso3dfd_code_sample/build/src -result-dir vtune_data_4_hotspots -- ./guided_iso3dfd_code_sample/build/src/4_GPU_private_memory_I 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_run_vtune_report">
                            <h4>c) Run VTune to Collect Hotspots and Generate Report</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 vtune_collect.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href=""> $(command -v qsub)</a>" ]; <a class="dk_color1" href="">then </a> ./q vtune_collect.sh; <a class="dk_color1" href=""> else </a> ./vtune_collect.sh; <a class="dk_color1" href=""> fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>Here is the GPU Compute/Media Hotspots analysis of SYCL implementation <strong>before adding private memory on GPU</strong>:</p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f7-graphics-view-of-gpu-compute-media-hotspots.png" width="1897"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-7: Graphics view of GPU Compute/Media Hotspots Analysis before adding Private Memory</em></p>
                            <p>And here is the GPU Compute/Media Hotspots analysis of SYCL implementation <strong>after adding private memory on GPU</strong>:</p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f8a-graphics-view-of-gpu-compute-media-hotspots.png" width="1867"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-8a: Graphics view of GPU Compute/Media Hotspots Analysis after adding Private Memory</em></p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f8b-summary-view-of-gpu-compute-media-hotspots.png" width="1541"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-8b: Summary view of GPU Compute/Media Hotspots Analysis after adding Private Memory</em></p>
                            <p class="mb-0">If we compare <strong>Figure-7 </strong>,<strong>Figure-8a</strong> and <strong>Figure-8b</strong> we can see:</p>
                            <ol> 
                                <li>Significant difference in the total time of the top source computing task.</li> 
                                <li>Better ratio of &nbsp;EU Array Active time and Stalled time.</li> 
                                <li>Improvement in Read and Write bandwidth.</li> 
                            </ol>
                            <p class="mb-0"><strong>Observations and Recommendations:</strong></p>
                            <ul> 
                                <li>Reduced execution time</li> 
                                <li>Reduced EU stall time</li> 
                                <li>Higher EU active time</li> 
                                <li>Higher Read bandwidth in the kernel</li> 
                                <li>Still bounded by GPU L3 cache bandwidth</li> 
                                <li>Read each memory cell once and re-use the data</li> 
                            </ul>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_step6_memory">
                            <h4><strong>Step 6: Optimization-2_k (GPU Private Memory)</strong><a class="inpage-nav-anchor" id="inpage-nav-1-4"></a></h3>
                            <p>This optimization step is similar to the Optimization-2_i.</p>
                            <p>Here, we have created private arrays for the 3rd dimension, instead of first dimension.</p>
                        </section>

                        <section id="dk_command_private">
                            <h4>a) Command Line for Running the SYCL Private Memory Implementation on GPU</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile run_iso3dfd.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh <span class="dk_color2">></span> /dev/null 2 <span class="dk_color2">>&</span>1</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">chmod -R 777 guided_iso3dfd_code_sample/build/src/3_GPU_linear</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">./guided_iso3dfd_code_sample/build/src/3_GPU_linear 256 256 256 100</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p><em>Overwriting run_iso3dfd.sh</em></p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 q; chmod 755 run_iso3dfd.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> /q run_iso3dfd.sh; <a class="dk_color1" href="">else</a> ./run_iso3dfd.sh;  <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="dk_step7_memory">
                            <h4><strong>Step 7: Optimization-3 (Shared Local Memory)</strong><a class="inpage-nav-anchor" id="inpage-nav-1-5"></a></h3>
                            <p>In this step, we will introduce Shared Local Memory and nd_range kernel to overcome the memory constraint issue.</p>
                            <p class="mb-0">Code changes:</p>
                            <ul> 
                                <li>Change back the kernel_range to 3d</li> 
                                <li>Introduction of the local index corresponding to the position in SLM</li> 
                                <li>Add barriers to ensure synchronization</li> 
                                <li>Tweak work group size</li> 
                            </ul>
                        </section>

                        <section id="dk_command_shared">
                            <h4>a) Command Line for Running the SYCL Shared Local Memory Implementation on GPU</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile run_iso3dfd.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh <span class="dk_color2">></span> /dev/null 2 <span class="dk_color2">>&</span>1</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">chmod -R 777 guided_iso3dfd_code_sample/build/src/5_GPU_optimized</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">./guided_iso3dfd_code_sample/build/src/5_GPU_optimized 256 256 256 100 16 8 16</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p><em><em>Overwriting run_iso3dfd.sh complete</em></em></p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 q; chmod 755 run_iso3dfd.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q run_iso3dfd.sh; <a class="dk_color1" href="">else</a> ./run_iso3dfd.sh;  <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="dk_vtune_collecting3">
                            <h4>b) VTune Command Line for Collecting and Reporting</h4>
                            <p>This is the command line for running gpu-hotspots on SYCL Shared Local Memory implementation for GPU:</p>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="token function">%%writefile vtune_collect.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            2
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span style="color: #008200 !important;">#!/bin/bash</span></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            3
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">source /opt/intel/inteloneapi/setvars.sh</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            4
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">type <span class="dk_color2">=</span> gpu-hotspots</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            5
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><span class="dk_color1">echo</span> "<span style="color: blue;">Vtune Collect</span> <span class="dk_color2">$type</span>"</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 0rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            6
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="padding-top: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre pb-0">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            7
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0">vtune -collect gpu-hotspots -search-dir=guided_iso3dfd_code_sample -source-search-dir=guided_iso3dfd_code_sample/build/src -result-dir vtune_data_5_hotspots_tuned -- ./guided_iso3dfd_code_sample/build/src/5_GPU_optimized 256 256 256 100 16 8 16</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="dk_run_hotspots">
                            <h4>c) Run VTune to Collect Hotspots and Generate Report</h4>
                            <!-- code toolbar 3 -->
                            <div class="mv_code_toolbar">
                                <div class="mv_toolbar_item mv_copy_icon">
                                    <i class="fa-regular fa-copy"></i>
                                </div>
                                <div class="mv_copy_message text-end hidden">Copied</div>
                                <div class="code-content">
                                    <div style="padding-bottom: 0rem !important; padding-bottom: 1rem !important;" class="d-flex mv_pre">
                                        <div style="border-right: 1px solid #ccc" class="pe-3">
                                            1
                                        </div>
                                        <div class="">
                                            <div class="mv_code text-break">
                                                <p class="mb-0"><a class="dk_color2" href="">!</a> chmod 755 vtune_collect.sh; <a class="dk_color1" href="">if</a> [ -x "<a class="dk_color2" href="">$(command -v qsub)</a>" ]; <a class="dk_color1" href="">then</a> ./q vtune_collect.sh; <a class="dk_color1" href="">else</a> ./vtune_collect.sh;  <a class="dk_color1" href="">fi</a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p>Here is a snapshot of the GPU Compute/Media Hotpots analysis after adding Shared Local Memory:</p>
                            <p style="text-align:center"><img class="w-100" src="/img/darshit_image/f9-summary-view-of-gpu-compute-media-hotspots-analysis.png" width="1545"></p>
                            <p class="utility-text-1" style="text-align:center"><em>Figure-9: Summary view of GPU Compute/Media Hotspots Analysis</em></p>
                            <p>From <strong>Figure-9</strong> we can see the improved EU Array Stalled/Idle time. It also shows significant improvement in total GPU time and reduced time spent in the hottest GPU computing task. &nbsp;&nbsp;</p>
                            <p class="mb-0"><strong>Observations and Recommendations:</strong></p>
                            <ul> 
                                <li>Improvement in execution time</li> 
                                <li>Better utilization of EU arrays</li> 
                                <li>Increase in the memory read and write bandwidth</li> 
                            </ul>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_summary">
                            <h3><strong>Summary</strong><a class="inpage-nav-anchor" id="inpage-nav-2"></a></h2>
                            <p>Intel VTune Profiler is a very powerful tool for in-depth analysis of a real-world application to locate performance bottlenecks on CPU as well as GPU.&nbsp; Our overall improvements of the SYCL implementations on GPU throughout the journey are summarized in Table 1 below.</p>
                            <table style="padding-bottom: 22px;" class="mv_product_table w-100">
                            <thead>
                                <tr>
                                    <th scope="col">
                                    <p>&nbsp;</p>
                                    </th>
                                    <th scope="col">
                                    <p>Step 3</p>
                                    </th>
                                    <th scope="col">
                                    <p>Step 4</p>
                                    </th>
                                    <th scope="col">
                                    <p>Step 5 &amp; 6</p>
                                    </th>
                                    <th scope="col">
                                    <p>Step-7</p>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                    <p>GPU Optimization Type</p>
                                    </td>
                                    <td>
                                    <p>Basic GPU Offload</p>
                                    </td>
                                    <td>
                                    <p>GPU Optimization-1 (Linear Indexing)</p>
                                    </td>
                                    <td>
                                    <p>Optimization 2_i: GPU Private Memory – 1<sup>st</sup> Dimension<br>
                                    Optimization 2_k: GPU Private Memory – 3<sup>rd</sup> Dimension</p>
                                    </td>
                                    <td>
                                    <p>Optimization 3: Shared Local Memory</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                    <p>Wall Time(s)</p>
                                    </td>
                                    <td>
                                    <p>21.873</p>
                                    </td>
                                    <td>
                                    <p>7.265</p>
                                    </td>
                                    <td>
                                    <p>6.409</p>
                                    </td>
                                    <td>
                                    <p>5.491</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                    <p>GPU Time (s)</p>
                                    </td>
                                    <td>
                                    <p>17.167</p>
                                    </td>
                                    <td>
                                    <p>4.131</p>
                                    </td>
                                    <td>
                                    <p>2.542</p>
                                    </td>
                                    <td>
                                    <p>1.934</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="mb-0">&nbsp;</p>
                        <p>Our CPU- and GPU-optimization journey showcased the tremendous performance improvements that can be achieved by translating the advice of the Intel VTune™ Profiler into action.</p>
                        <p class="mb-0">&nbsp;</p>
                        </section>

                        <section id="dk_learn_more">
                            <h2 style="font-weight: bolder;">Learn More</h2>
                            <ul>
                                <li>Check out the <strong>Intel® Innovation 2022</strong> session recap for additional background: Code Design and Optimization for Next Generation CPUs and Compute Accelerators with oneAPI Analysis Tools</li>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">Intel® oneAPI Components</a> - Putting the Needs of Developers First</li>
                                <li><a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">Intel® Advisor</a> - Design Code for Efficient Vectorization, Threading, Memory Usage, and Accelerator Offloading</li>
                            </ul>
                            <p>&nbsp;</p>
                        </section>

                        <section id="dk_get_software"> 
                            <h2><strong>Get the Software</strong><a class="inpage-nav-anchor" id="inpage-nav-4"></a></h2>
                            <p>Download Intel VTune Profiler <a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">standalone</a> or as part of the <a class="b_special_a1" href="" style="color:#0070c0; font-style:normal">Intel® oneAPI Base Toolkit</a>, a core set of tools and libraries for developing performant, data-centric applications across CPUs, GPUs, FPGAs, and other accelerators.</p>
                        </section>

                </div>
            </div>
        </div>
    </section>

    <section style="border-top: 1px solid #d7d7d7;" class="container py-5">
        <h4 class="h6">Product and Performance Information</h4>
        <div class="disclaimer" style="font-size: 12px;"><sup>1</sup> Performance varies by use, configuration and other
            factors. Learn more at <a class="b_special_a1" href="">www.Intel.com/PerformanceIndex.</a></div>
        </div>
    </section>

    <!-- footer -->
    <div id="footer"></div>

    <!-- nav script -->
    <script>
        // navbar include  
        fetch('/y_index/y_navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });
        // footer include 
        fetch('/y_index/y_footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <!-- nav script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (document.getElementsByClassName('VK_all_sections section') && document.getElementsByClassName('VK_sidebar_dropdown')) {
                const sections = document.querySelectorAll('.VK_all_sections section');
                const navLinks = document.querySelectorAll('.VK_sidebar_dropdown a');
                const detailsElements = document.querySelectorAll('.VK_sidebar_dropdown details');

                function removeActiveClass() {
                    navLinks.forEach(link => link.classList.remove('VK_sidebar_active_link'));
                    detailsElements.forEach(details => {
                        details.removeAttribute('open');
                        details.setAttribute('close', ''); // Optional: to visually indicate it's closed
                    });
                }

                function activateLinkAndDetails(targetId) {
                    navLinks.forEach(link => {
                        if (link.getAttribute('href') === `#${targetId}`) {
                            link.classList.add('VK_sidebar_active_link');
                            let parentDetails = link.closest('details');

                            // Open all ancestor details elements
                            while (parentDetails) {
                                parentDetails.setAttribute('open', '');
                                parentDetails.removeAttribute('close'); // Optional: remove the closed indicator
                                parentDetails = parentDetails.parentElement.closest('details');
                            }
                        }
                    });
                }

                function onScroll() {
                    let currentSection = '';
                    sections.forEach(section => {
                        const sectionTop = section.getBoundingClientRect().top;
                        const sectionBottom = section.getBoundingClientRect().bottom;

                        // Check if the section is in view
                        if (sectionTop <= 100 && sectionBottom >= 0) {
                            currentSection = section.getAttribute('id');
                        }
                    });

                    if (currentSection) {
                        removeActiveClass();
                        activateLinkAndDetails(currentSection);
                    } else {
                        removeActiveClass();
                    }
                }

                window.addEventListener('scroll', onScroll);
            } else {
                return
            }
        });
    </script>

    <!-- copy script -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".mv_copy_icon").forEach((icon) => {
                icon.addEventListener("click", async function () {
                    try {
                        const toolbar = this.closest(".mv_code_toolbar");
                        const codeBlock = toolbar.querySelector(".code-content");
                        const codeContent = codeBlock.innerText;

                        // Use Clipboard API to copy text
                        await navigator.clipboard.writeText(codeContent);

                        // Hide the copy icon and show the "Copied!" message
                        const message = toolbar.querySelector(".mv_copy_message");
                        this.classList.add("hidden"); // Hide the copy icon
                        message.classList.remove("hidden"); // Show the "Copied!" message

                        // Hide the message and show the icon again after 2 seconds
                        setTimeout(() => {
                            message.classList.add("hidden");
                            this.classList.remove("hidden");
                        }, 2000); // Adjust delay as needed

                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                    }
                });
            });
        });
    </script>

</body>

</html>