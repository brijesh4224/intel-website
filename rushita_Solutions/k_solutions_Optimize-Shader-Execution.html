<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Optimize Shader Execution
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link href=" https://fonts.cdnfonts.com/css/intel-clear " rel="stylesheet">
    <link rel="stylesheet" href="../css/owl.carousel.min.css">
    <link rel="stylesheet" href="../css/yatri.css">
    <link rel="stylesheet" href="../css/rushita.css">
    <link rel="stylesheet" href="../css/rushita_automotive.css">

    <link rel="stylesheet" href="../css/owl.theme.default.min.css">
    <style>
        * {
            font-family: 'Intel Clear', sans-serif;
        }

        .footnote {
            color: #bbb !important;
        }

        .k_tab-container ul li a.active {
            border-bottom: none !important;
            background-color: #FFFFFF !important;
            border: 2px solid #CCCCCC;
        }

        .code-simple {
            background-color: #E6E6E6;
        }

        .k_bluehover a:hover {
            text-decoration: none !important;
        }

        .k_plink1 a {
            text-decoration: none !important;
            color: #0068b5 !important;
        }

        .k_hoverblue:hover {
            color: #00aeef !important;
            text-decoration: none !important;

        }

        .k_bluehover1 a:hover {
            color: #00aeef !important;
            text-decoration: none !important;

        }

        td,
        th {
            border: 1px solid #dddddd !important;
            text-align: left;
            padding: 8px;
        }

        td {
            align-content: baseline;
        }

        pre {
            white-space: pre-line !important;
        }

        .property,
        .keyword-unsigned,
        .keyword-while {
            color: #0066A5;
            font-weight: 600;
        }

        .string {
            color: #0000FF;
            font-weight: 600;
        }

        .operator {
            color: #B24501;

        }
   
 pre {
    white-space: pre-line !important;
} 
    </style>
</head>

<body>
    <div id="navbar"></div>
    <section class="m_ai_tdrop">
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Developers
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Developer-Zone.html">Overview</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Control-flow-Enforcement_Technology.html">Topics
                        & Technologies</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Development-Tools.html">Tools</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_in_Viewall_SDF_Industrial-Automation_Hardware-Platforms.html">Hardware
                        Platforms</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Resource-Documentation-Center.html">Resources &
                        Documentation</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_Learn.html">Learn</a>
                </li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Communities-and-Events.html">Community & Events</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../dhruvin_developer-tools/ds_Developer-Programs.html">Developer Programs</a></li>
                <li><a class="dropdown-item m_dropActive" href="../dhruvin_developer-tools/ds_Get-Help.html">Get
                        Help</a></li>
            </ul>
        </div>
        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Tools
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="../Product/B20_developer_catelog.html">Software
                        Catalog</a></li>
                <li><a class="dropdown-item m_dropActive" href="../Product/B17_oneapi.html">oneAPI</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-Tiber™Edge-Platform.html">Intel® Tiber™ Edge
                        Platform</a></li>
                <li><a class="dropdown-item m_dropActive" href="../Product/B10_intel_Quarts.html">FPGA</a></li>
                <li><a class="dropdown-item m_dropActive" href="../VK_developers/VK_technology_sdk.html">Intel®
                        Active Management Technology SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="../VK_developers/VK_intel_adviser.html">Intel®
                        Advisor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® AI Reference Models</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-Collaboration-Suite-for-WebRTC.html">Intel®
                        Collaboration Suite for WebRTC SDK</a>
                </li>
                <li><a class="dropdown-item m_dropActive" href="../Product/B1_19_Intel_AICloud.html">Intel® Tiber™
                        AI Cloud</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-Distribution-for-Python.html">Intel® Distribution
                        for Python*</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-Distribution-for-GDB.html">Intel® Distribution for
                        GDB*</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-DPC++Compatibility-Tool.html">Intel® DPC++
                        Compatibility Tool</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-Dynamic-Application-Loader.html">Intel® Dynamic
                        Application Loader</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Topics_viewall_Cloud-Insider-Program_AI-Frameworks-and-Tools.html">Frameworks</a>
                </li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Embree</a></li>
                <li><a class="dropdown-item m_dropActive" href="../VK_developers/VK_ai_scikit.html">Intel® Extension
                        for Scikit-learn*</a></li>
                <li><a class="dropdown-item m_dropActive"
                        href="../rushita_Solutions/k_solutions_Intel-Fortran-Compiler.html">Intel® Fortran Compiler</a>
                </li>
                <li><a class="dropdown-item m_dropActive" href="">Intel® Graphics Performance
                        Analyzers</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Homomorphic Encryption Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® In-Band Manageability</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Performance Primitives</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Integrated Simulation Infrastructure with
                        Modeling</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Instruction Set Architecture (ISA) Extensions</a>
                </li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Intelligent Storage Acceleration Library
                        (Intel® ISA-L)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Modin*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® MPI Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Neural Compressor</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenCL™ Runtime</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Image Denoise</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Path Guiding Library (Intel® Open
                        PGL)</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Pin</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Platform Analysis Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Software</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel Tools for OpenCL™ Applications</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OpenSWR</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">OpenVINO™ Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Open Volume Kernel Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Optimization for XGBoost*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay for Hydra*</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® OSPRay Studio</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">PyTorch* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">TensorFlow* Optimizations from Intel</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Rendering Toolkit</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Smart Edge Open</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Guard Extensions</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Secure Device Onboard</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Software Development Emulator</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Trust Domain Extensions (Intel® TDX)</a>
                </li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Quantum SDK</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Query Processing Library (Intel® QPL)</a>
                </li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® Video Processing Library</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Intel® VTune™ Profiler</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Resellers</a></li>
            </ul>
        </div>
        <div class="m_ai_shlash">/</div>
        <div>
            <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                Intel® Graphics Performance Analyzers
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item m_dropActive" href="#">Graphics Frame Analyzer</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Graphics Trace Analyzer</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">System Analyzer</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Download</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Get Started</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Training</a></li>
                <li><a class="dropdown-item m_dropActive" href="#">Forum</a></li>
            </ul>
        </div>
        <div class="m_ai_shlash">/</div>
        <div class="m_ai_httl">
            Optimize Shader Execution 
        </div>
    </section>
    <section class="k_bgblue py-4">
        <div class="k_container11">
            <div class="row  g-4">
                <div class="col-md-10 col-sm-12 mx-0 text-white align-content-center k_tstartauto k_text2 px-0 mx-0">
                    <p><b>Intel® Graphics Performance Analyzers</b></p>
                    <h4 class="fw-lighter   mb-2 k_marketsmall">
                        User Guide
                    </h4>
                    <div id="hiddenContent">
                        <div class="d-lg-flex gap-5 mt-4 k_dwrap">
                            <div class="k_mdflex ">
                                <p>ID</p>
                                <p>767266
                                </p>
                            </div>
                            <div class="k_mdflex ">
                                <p>Updated</p>
                                <p style="justify-content: end;">3/13/2025</p>
                            </div>
                            <div class="k_mdflex ">
                                <p>Version</p>
                                <p style="justify-content: end;"><select id="versionDropdown" class="versionDropdown">
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2025-1.html"
                                            selected="true">2025.1
                                            (latest)</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2024-4.html">
                                            2024.4</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2024-3.html">
                                            2024.3</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2024-2.html">
                                            2024.2</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2024-1.html">
                                            2024.1</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2023-4.html">
                                            2023.4</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2023-3.html">
                                            2023.3</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2023-2.html">
                                            2023.2</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2023-1.html">
                                            2023.1</option>
                                        <option
                                            value="/content/www/us/en/developer/articles/news/gpa-product-announcement/2022-4.html">
                                            2022.4</option>
                                    </select></p>
                            </div>
                            <div class="k_mdflex ">
                                <p>&nbsp;</p>
                                <p style="justify-content: end;">Public</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
    </section>
    <section class="py-5 k_spacenone" style="background-color: #F3F3F3;">
        <div class="k_container11">
            <div class="row  ">
                <div class="col-lg-3 col-md-12 col-sm-12">
                    <div class="VK_sidebar_dropdown">
                        <div>
                            <input class="filter-dropdown-search" type="search" id="documentation-details-search-id"
                                aria-label="Search for filter" size="10" placeholder="Search this document"
                                style="width: -webkit-fill-available; height: 40px;">
                        </div>
                        <ul class="k_listnone k_menu ">
                            <li class="k_text"><a href="#">Release Notes and System Requirements </a></li>
                            <li class="k_text"><a href="#" class="k_submenu-toggle">Get Started Guide</a>
                                <ul class="k_listnone k_submenu">
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>System Analysis:
                                        Analyze Your Game Performance in Real Time</a></li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Trace Analysis:
                                        Analyze Application Execution on the CPU and GPU</a></li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Frame Analysis:
                                        Analyze Frames for Performance Bottlenecks</a></li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Learn More</a></li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Notices and
                                        Disclaimers</a></li>
                                </ul>
                            </li>
                            <li class="k_text"><a href="#" class="k_submenu-toggle">User Guide</a>
                                <ul class="k_listnone k_submenu">
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Introduction to Intel®
                                        Graphics Performance Analyzers</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#">Get Help</a></li>
                                        </ul>
                                    </li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Game Optimization
                                        Methodology</a></li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Install and Launch
                                        Intel® GPA</a></li>
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Launch Application for
                                        Analysis</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text" style="padding-left: 20px;"><a href="#">Start a Desktop
                                                    Application with Graphics Monitor</a></li>
                                            <li class="k_text" style="padding-left: 20px;"><a href="#">Start a Windows*
                                                    Mixed Reality Application</a></li>
                                            <li class="k_text" style="padding-left: 20px;"><a href="#">Connect to a
                                                    Running Application</a></li>
                                            <li class="k_text" style="padding-left: 20px;"><a href="#">Analyze
                                                    Applications in the Network Mode</a></li>
                                        </ul>
                                    </li>
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Configure Analysis
                                        Settings</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Configure a
                                                    Metric Set</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Customize
                                                    Keyboard Shortcuts</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Set Up a
                                                    Trigger</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Set Up Tracing
                                                    Options</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Set Frame
                                                    Delimiters</a></li>
                                        </ul>
                                    </li>
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Analyze Desktop
                                        Graphics Applications</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Manage Analysis
                                                    with Graphics Monitor</a></li>
                                            <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Monitor
                                                Real-Time Performance with System Analyzer</a>
                                                <ul class="k_listnone k_petamenu">
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Pause and
                                                            Resume a Running Application</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Export
                                                            Metrics Data with System Analyzer</a></li>
                                                </ul>
                                            </li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Identify Issues
                                                    in Graphics Application Execution with Trace Analyzer</a></li>
                                            <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Analyze
                                                GPU-bound Applications with Graphics Frame Analyzer</a>
                                                <ul class="k_listnone k_petamenu">
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Run
                                                            Render State Experiments with Frame Analyzer</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Use
                                                            Advanced Profiling Mode</a></li>
                                                    <li class="k_text"><a href="#"
                                                            class="k_petamenu-toggle"></a>Graphics Frame Analyzer
                                                        Plugins</a>
                                                        <ul class="k_listnone k_petamenu">
                                                            <li class="k_text" style="padding-left: 20px;"><a
                                                                    href="#">Create a Custom Plugin for Graphics Frame
                                                                    Analyzer</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Optimize
                                                Specific Domains</a>
                                                <ul class="k_listnone k_petamenu">
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Optimize
                                                            Shaders</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Analyze
                                                            Textures
                                                        </a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Minimize
                                                            Overdraw</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Optimize
                                                            Graphic API States</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Identify
                                                            Graphics Elements with Complex Geometry</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Visualize
                                                            Color Distribution</a></li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Quick Start with
                                        Profiling Unreal Engine* Games</a></li>
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Instrumentation and
                                        Tracing Technology API Support</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Compile and Link
                                                    with ITT API</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">
                                                    Instrument Your Application</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Minimize ITT API
                                                    Overhead</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Clock Domain
                                                    API</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Counter API</a>
                                            </li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Domain API</a>
                                            </li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Marker API</a>
                                            </li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Metadata API</a>
                                            </li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Relation API</a>
                                            </li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">String Handle
                                                    API</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Thread Naming
                                                    API</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Task API</a></li>

                                        </ul>
                                    </li>
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Intel® GPA
                                        Reference</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Performance
                                                Metrics Reference</a>
                                                <ul class="k_listnone k_petamenu">
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">CPU
                                                            Metrics</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">GPU
                                                            Metrics
                                                        </a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Graphics
                                                            API Metrics</a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">NPU
                                                            Metrics</a></li>
                                                </ul>
                                            </li>
                                            <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>User Interface
                                                Reference</a>
                                                <ul class="k_listnone k_petamenu">
                                                    <li class="k_text"><a href="#"
                                                            class="k_petamenu-toggle"></a>Graphics Monitor UI
                                                        Reference</a>
                                                        <ul class="k_listnone k_petamenu">
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Context Menu</a></li>
                                                            <li class="k_text"><a href="#" style="padding-left: 20px;">
                                                                    Graphics Monitor</a></li>
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Control Panel</a></li>
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Desktop Applications
                                                                    Tab</a></li>
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Universal Windows
                                                                    Applications Tab</a></li>
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Options Screen/a></li>
                                                        </ul>

                                                    </li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">Heads-Up
                                                            Display (HUD) UI Reference
                                                        </a></li>
                                                    <li class="k_text"><a href="#" style="padding-left: 20px;">System
                                                            Analyzer UI Reference</a></li>
                                                    <li class="k_text"><a href="#"
                                                            class="k_petamenu-toggle"></a>Graphics Frame Analyzer UI
                                                        Reference</a>
                                                        <ul class="k_listnone k_petamenu">
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Open Frame Capture</a>
                                                            </li>
                                                            <li class="k_text"><a href="#" style="padding-left: 20px;">
                                                                    Multiframe View</a></li>
                                                            <li class="k_text"><a href="#"
                                                                    class="k_petamenu-toggle"></a>Profiling View</a>
                                                                <ul class="k_listnone k_petamenu">
                                                                    <li class="k_text"><a href="#"
                                                                            style="padding-left: 20px;">Main Toolbar</a>
                                                                    </li>
                                                                    <li class="k_text"><a href="#"
                                                                            style="padding-left: 20px;">Bar Chart
                                                                        </a></li>
                                                                    <li class="k_text"><a href="#"
                                                                            style="padding-left: 20px;">API Log</a></li>
                                                                    <li class="k_text"><a href="#"
                                                                            style="padding-left: 20px;">Resources
                                                                            Pane</a></li>
                                                                    <li class="k_text"><a href="#"
                                                                            style="padding-left: 20px;">Metrics Pane</a>
                                                                    </li>
                                                                    <li class="k_text"><a href="#"
                                                                            style="padding-left: 20px;">Experiments
                                                                            Pane</a></li>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="k_text"><a href="#"
                                                            class="k_petamenu-toggle"></a>Graphics Trace Analyzer UI
                                                        Reference</a>
                                                        <ul class="k_listnone k_petamenu">
                                                            <li class="k_text"><a href="#"
                                                                    style="padding-left: 20px;">Open Trace Capture</a>
                                                            </li>
                                                            <li class="k_text"><a href="#" style="padding-left: 20px;">
                                                                    Platform View</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Notices and
                                        Disclaimers</a></li>
                                </ul>
                            </li>
                            <li class="k_text"><a href="#" class="k_submenu-toggle">Cookbook</a>
                                <ul class="k_listnone k_submenu">
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Platform-Based Graphics
                                        Performance Analysis</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Identify Basic
                                                    GPU-CPU Bound Scenarios</a></li>
                                        </ul>
                                    </li>
                                    <li class="k_text"><a href="#" class="k_petamenu-toggle"></a>Performance
                                        Optimization for Intel® Processor Graphics</a>
                                        <ul class="k_listnone k_petamenu">
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Optimize
                                                    Sampler</a></li>
                                            <li class="k_text"><a href="#" style="padding-left: 20px;">Optimize Shader
                                                    Execution</a></li>
                                        </ul>
                                    </li>
                                    <li class="k_text" style="padding-left: 20px;"><a href="#"></a>Notices and
                                        Disclaimers</a></li>
                                </ul>
                            </li>
                            <li class="k_text"><a href="#">Intel GPA Framework </a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-9 col-md-12 col-sm-12  k_16smpx ">
                    <div class=" k_smpaddnone k_smpaddnone1 p-3" style="background-color: #FFFFFF;">
                        <h2 class="fw-light my-4">Optimize Shader Execution</h2>
                        <p>Shader is a program, which handles programmable graphics pipeline stages or performs general-purpose computations on a GPU. Shaders are executed on execution units (EUs) of the GEN architecture. In each EU, the primary computation units are a pair of SIMD (Single Instruction, Multiple Data) floating-point units (FPUs). FPU0 processes floating point and integers operations, FPU1 can perform floating point operations and extended math instructions so it is also referred as Extended Math (EM) unit.</p>
                        <p>To detect that Shader Execution is a bottleneck, the Intel® GPAGraphics Frame Analyzer checks if an FPU pipes load is more than 90 percent. Usually, the Shader Execution bottleneck is caused by Pixel and Compute shaders that perform complex computations and are executed many times.</p>
                        <!--  -->
                        <div class="p-3 mb-4 k_plink1 k_bluehover1" style="background-color: #E2E7Eb;"> 
                             <b> NOTE: </b>
                             Families of Intel® X<sup>e</sup> graphics products starting with Intel® Arc™ Alchemist (formerly DG2) and newer generations feature GPU architecture terminology that shifts from legacy terms. For more information on the terminology changes and to understand their mapping with legacy content, see <a href="#">GPU Architecture Terminology for Intel® Xe Graphics</a>. 
                           </div>
                           <p>When EU Array / Pipes: EU FPU0 Pipe Active or EU Array / Pipes: EU FPU1 Pipe Active are above 90 percent, it can indicate that the primary hotspot is due to the number of instructions per clock (IPC). If so, adjust shader algorithms to reduce unnecessary instructions or implement using more efficient instructions to improve IPC. For IPC-limited pixel shaders, ensure maximum throughput by limiting shader temporary registers to ≤ 16.</p>
                           <div class="k_plink1 k_bluehover1"> 
                              <b>NOTE:</b> 
                             The recipe describes how to optimize the Shader Execution bottleneck on a particular sample. Some of these optimizations can be applied to real-world graphics applications. 
                           </div>

                        <h2 class="fw-light my-4">Ingredients</h2>
                        <p>To optimize the Shader Execution bottleneck, you need the following:</p>
                        <ul> 
                            <li class="k_plink1 k_bluehover1"><p><strong>Application</strong>: Microsoft D3D12Multithreading sample: <a href="#">https://github.com/microsoft/DirectX-Graphics-Samples/tree/master/Samples/Desktop/D3D12Multithreading</a></p> </li> 
                            <li><p><strong>Tool</strong>: Intel® GPAGraphics Frame Analyzer</p> 
                             <div class="p-3 mb-4 k_plink1 k_bluehover1" style="background-color: #E2E7Eb;"> 
                                <b>NOTE:</b> 
                               To download a free copy of the Intel® Graphics Performance Analyzers toolkit, visit the <a href="#">Intel® GPA product page</a>. 
                             </div> </li> 
                            <li><p><strong>Operating System</strong>: Windows* 10</p> </li> 
                            <li><p><strong>GPU</strong>: Intel® Processor Graphics Gen9 and higher</p> </li> 
                            <li><p><strong>API</strong>: DirectX* 11/12</p> </li> 
                           </ul>

                        <h2 class="fw-light my-4">Define Code Portions to Optimize</h2>
                        <p>To find potential hotspots in the shader, do the following:</p>
                        <ol> 
                            <li class="k_plink1 k_bluehover1"><p>Open the event with the <a href="#">discovered Shader Execution bottleneck</a> in the Graphics Frame Analyzer Resource Viewer by selecting this event on the <strong>Bar Chart</strong>.</p> 
                                <img src="/content/dam/docs/us/en/cookbook/2025-1/7688BEA1-1420-498C-A247-AFADE15AB14D-low.png" alt="">
                            <div class="col-12">
                                <img src="../img/rushita_img/shader.png" alt="" width="100%">
                            </div>
                            </li> 
                            <li><p>Select <strong>Shader</strong> in the <strong>Resource List</strong> to open the shader source.</p> </li> 
                            <li><p>Analyze the shader source to understand the algorithm and find potential places for optimization.</p> <p>Pixel shader invokes <samp class="codeph">CalcLightingColor</samp> for each light (<samp class="codeph">NUM_LIGHTS=3</samp>), the first light also computes shadow by the <samp class="codeph">CalcUnshadowedAmountPCF2x2</samp> function. <samp class="codeph">CalcLightingColor</samp> function is called three times, other functions are called only once per shader invocation. So <samp class="codeph">CalcLightingColor</samp> is potentially the primary place for optimization.</p> <div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp">float4 <span class="token function">CalcLightingColor</span><span class="token punctuation">(</span>float3 vLightPos<span class="token punctuation">,</span> float3 vLightDir<span class="token punctuation">,</span> float4 vLightColor<span class="token punctuation">,</span> float4 vFalloffs<span class="token punctuation">,</span> float3 vPosWorld<span class="token punctuation">,</span> float3 vPerPixelNormal<span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            float3 vLightToPixelUnNormalized <span class="token operator">=</span> vPosWorld <span class="token operator">-</span> vLightPos<span class="token punctuation">;</span>
                            <span class="token comment">// Dist falloff = 0 at vFalloffs.x, 1 at vFalloffs.x - vFalloffs.y</span>
                            <span class="token keyword keyword-float">float</span> fDist <span class="token operator">=</span> <span class="token function">length</span><span class="token punctuation">(</span>vLightToPixelUnNormalized<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword keyword-float">float</span> fDistFalloff <span class="token operator">=</span> <span class="token function">saturate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>vFalloffs<span class="token punctuation">.</span>x <span class="token operator">-</span> fDist<span class="token punctuation">)</span> <span class="token operator">/</span> vFalloffs<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// Normalize from here on.</span>
                            float3 vLightToPixelNormalized <span class="token operator">=</span> vLightToPixelUnNormalized <span class="token operator">/</span> fDist<span class="token punctuation">;</span>
                            <span class="token comment">// Angle falloff = 0 at vFalloffs.z, 1 at vFalloffs.z - vFalloffs.w</span>
                            <span class="token keyword keyword-float">float</span> fCosAngle <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>vLightToPixelNormalized<span class="token punctuation">,</span> vLightDir <span class="token operator">/</span> <span class="token function">length</span><span class="token punctuation">(</span>vLightDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword keyword-float">float</span> fAngleFalloff <span class="token operator">=</span> <span class="token function">saturate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>fCosAngle <span class="token operator">-</span> vFalloffs<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">/</span> vFalloffs<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// Diffuse contribution.</span>
                            <span class="token keyword keyword-float">float</span> fNDotL <span class="token operator">=</span> <span class="token function">saturate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token function">dot</span><span class="token punctuation">(</span>vLightToPixelNormalized<span class="token punctuation">,</span> vPerPixelNormal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword keyword-return">return</span> vLightColor <span class="token operator">*</span> fNDotL <span class="token operator">*</span> fDistFalloff <span class="token operator">*</span> fAngleFalloff<span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 45px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div><div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp">float4 <span class="token function">CalcUnshadowedAmountPCF2x2</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> lightIndex<span class="token punctuation">,</span> float4 vPosWorld<span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            <span class="token comment">// Compute pixel position in light space.</span>
                            float4 vLightSpacePos <span class="token operator">=</span> vPosWorld<span class="token punctuation">;</span>
                            vLightSpacePos <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>vLightSpacePos<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>lightIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vLightSpacePos <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>vLightSpacePos<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>lightIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>projection<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vLightSpacePos<span class="token punctuation">.</span>xyz <span class="token operator">/=</span> vLightSpacePos<span class="token punctuation">.</span>w<span class="token punctuation">;</span>
                            <span class="token comment">// Translate from homogeneous coords to texture coords.</span>
                            float2 vShadowTexCoord <span class="token operator">=</span> <span class="token number">0.5f</span> <span class="token operator">*</span> vLightSpacePos<span class="token punctuation">.</span>xy <span class="token operator">+</span> <span class="token number">0.5f</span><span class="token punctuation">;</span>
                            vShadowTexCoord<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">-</span> vShadowTexCoord<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
                            <span class="token comment">// Depth bias to avoid pixel self-shadowing.</span>
                            <span class="token keyword keyword-float">float</span> vLightSpaceDepth <span class="token operator">=</span> vLightSpacePos<span class="token punctuation">.</span>z <span class="token operator">-</span> SHADOW_DEPTH_BIAS<span class="token punctuation">;</span>
                            <span class="token comment">// Find sub-pixel weights.</span>
                            float2 vShadowMapDims <span class="token operator">=</span> <span class="token function">float2</span><span class="token punctuation">(</span><span class="token number">1280.0f</span><span class="token punctuation">,</span> <span class="token number">720.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// need to keep in sync with .cpp file</span>
                            float4 vSubPixelCoords <span class="token operator">=</span> <span class="token function">float4</span><span class="token punctuation">(</span><span class="token number">1.0f</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vSubPixelCoords<span class="token punctuation">.</span>xy <span class="token operator">=</span> <span class="token function">frac</span><span class="token punctuation">(</span>vShadowMapDims <span class="token operator">*</span> vShadowTexCoord<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vSubPixelCoords<span class="token punctuation">.</span>zw <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">-</span> vSubPixelCoords<span class="token punctuation">.</span>xy<span class="token punctuation">;</span>
                            float4 vBilinearWeights <span class="token operator">=</span> vSubPixelCoords<span class="token punctuation">.</span>zxzx <span class="token operator">*</span> vSubPixelCoords<span class="token punctuation">.</span>wwyy<span class="token punctuation">;</span>
                            <span class="token comment">// 2x2 percentage closer filtering.</span>
                            float2 vTexelUnits <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">/</span> vShadowMapDims<span class="token punctuation">;</span>
                            float4 vShadowDepths<span class="token punctuation">;</span>
                            vShadowDepths<span class="token punctuation">.</span>x <span class="token operator">=</span> shadowMap<span class="token punctuation">.</span><span class="token function">Sample</span><span class="token punctuation">(</span>sampleClamp<span class="token punctuation">,</span> vShadowTexCoord<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vShadowDepths<span class="token punctuation">.</span>y <span class="token operator">=</span> shadowMap<span class="token punctuation">.</span><span class="token function">Sample</span><span class="token punctuation">(</span>sampleClamp<span class="token punctuation">,</span> vShadowTexCoord <span class="token operator">+</span> <span class="token function">float2</span><span class="token punctuation">(</span>vTexelUnits<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">0.0f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vShadowDepths<span class="token punctuation">.</span>z <span class="token operator">=</span> shadowMap<span class="token punctuation">.</span><span class="token function">Sample</span><span class="token punctuation">(</span>sampleClamp<span class="token punctuation">,</span> vShadowTexCoord <span class="token operator">+</span> <span class="token function">float2</span><span class="token punctuation">(</span><span class="token number">0.0f</span><span class="token punctuation">,</span> vTexelUnits<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            vShadowDepths<span class="token punctuation">.</span>w <span class="token operator">=</span> shadowMap<span class="token punctuation">.</span><span class="token function">Sample</span><span class="token punctuation">(</span>sampleClamp<span class="token punctuation">,</span> vShadowTexCoord <span class="token operator">+</span> vTexelUnits<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token comment">// What weighted fraction of the 4 samples are nearer to the light than this pixel?</span>
                            float4 vShadowTests <span class="token operator">=</span> <span class="token punctuation">(</span>vShadowDepths <span class="token operator">&gt;=</span> vLightSpaceDepth<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1.0f</span> <span class="token operator">:</span> <span class="token number">0.0f</span><span class="token punctuation">;</span>
                            <span class="token keyword keyword-return">return</span> <span class="token function">dot</span><span class="token punctuation">(</span>vBilinearWeights<span class="token punctuation">,</span> vShadowTests<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div><div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp">float4 <span class="token function">PSMain</span><span class="token punctuation">(</span>PSInput input<span class="token punctuation">)</span> <span class="token operator">:</span> SV_TARGET
                        <span class="token punctuation">{</span>
                            float4 diffuseColor <span class="token operator">=</span> diffuseMap<span class="token punctuation">.</span><span class="token function">Sample</span><span class="token punctuation">(</span>sampleWrap<span class="token punctuation">,</span> input<span class="token punctuation">.</span>uv<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            float3 pixelNormal <span class="token operator">=</span> <span class="token function">CalcPerPixelNormal</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>uv<span class="token punctuation">,</span> input<span class="token punctuation">.</span>normal<span class="token punctuation">,</span> input<span class="token punctuation">.</span>tangent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                            float4 totalLight <span class="token operator">=</span> ambientColor<span class="token punctuation">;</span>
                            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_LIGHTS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                            <span class="token punctuation">{</span>
                                float4 lightPass <span class="token operator">=</span> <span class="token function">CalcLightingColor</span><span class="token punctuation">(</span>lights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>position<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>direction<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>falloff<span class="token punctuation">,</span> input<span class="token punctuation">.</span>worldpos<span class="token punctuation">.</span>xyz<span class="token punctuation">,</span> pixelNormal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sampleShadowMap <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                                <span class="token punctuation">{</span>
                                    lightPass <span class="token operator">*=</span> <span class="token function">CalcUnshadowedAmountPCF2x2</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> input<span class="token punctuation">.</span>worldpos<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token punctuation">}</span>
                                totalLight <span class="token operator">+=</span> lightPass<span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                            <span class="token keyword keyword-return">return</span> diffuseColor <span class="token operator">*</span> <span class="token function">saturate</span><span class="token punctuation">(</span>totalLight<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 45px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div></li> 
                            <li><p>Select the ISA type in the Shader Code drop-down list to analyze the GEN Assembly.</p> </li> 
                           </ol>

                           <div class="col-12">
                                <img src="../img/rushita_img/shader1.png" alt="" width="100%">
                            </div>
                           <p>In the GEN Assembly, you can find the instructions, which are generated by Intel® Graphics Compiler. The example also contains a lot of complex math operations, such as &nbsp;square roots, inverse square roots and inversions:</p>
                           <ul id="GUID-022FC98D-929D-4D81-8D4F-0925B82EE2F6"> 
                            <li><p>math.sqt – 3 instructions</p> </li> 
                            <li><p>math.rsqt – 9 instructions</p> </li> 
                            <li><p>math.inv -– 7 instructions</p> </li> 
                           </ul>
                           <p>There is also a lot of arithmetic operations: 83 multiplications and 80 fused multiply/add instructions. &nbsp;To optimize the Shader Execution bottleneck, you can try to reduce unnecessary &nbsp;computations in a shader code or simplify a shader.</p>
                           <div class="p-3 mb-4" style="background-color: #E2E7Eb;"> 
                              <b>NOTE:</b> 
                             If a shader has loops or branches, the number of executed instructions may not correspond to the execution count in the assembly code. 
                           </div>

                        <h2 class="fw-light my-4">Perform Optimization</h2>
                        <p>Once you determined the areas for optimization, try the following corresponding &nbsp;changes to fix the Shader Execution bottleneck:</p>
                        <ol> 
                            <li><p>Eliminate the constant condition to remove the flow control.</p> <p>Consider the following condition inside the loop:</p> <div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp"><span class="token number">166</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sampleShadowMap <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                        <span class="token number">167</span> <span class="token punctuation">{</span>
                        <span class="token number">168</span> lightPass <span class="token operator">*=</span> <span class="token function">CalcUnshadowedAmountPCF2x2</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> input<span class="token punctuation">.</span>worldpos<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token number">169</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div><p><samp class="codeph">sampleShadowMap</samp> is a constant from SceneConstantBuffer. To view the constant buffer content, open the Shader Resource list by clicking the 
                            
                                <img src="../img/rushita_img/fx.png" alt="" width="25">
                      
                            
                            button.</p>  
                             <div class="col-12">
                                <img src="../img/rushita_img/shader2.png" alt="" width="100%">
                            </div></li> 
                            <li><p>Click the resource binding description to open the buffer in the Resource Viewer.</p> 
                             <div class="col-12 col-md-8">
                                <img src="../img/rushita_img/shader3.png" alt="" width="100%">
                            </div>
                            <div class="col-12 col-md-8">
                                <img src="../img/rushita_img/shader4.png" alt="" width="100%">
                            </div>
                            <p>Since <samp class="codeph">sampleShadowMap</samp> equals to 1, the condition <samp class="codeph">sampleShadowMap &amp;&amp; i == 0</samp> equals to <samp class="codeph">i==0</samp>. The modification makes shader linear without &nbsp;flow control instructions, the number of assembly lines reduces from 280 &nbsp;to 263. The only basic block - linear sequence of instructions - contains &nbsp;262 instructions. It affects the performance insignificantly, but simplifies &nbsp;the further shader analysis.</p> </li> 
                            <li><p>Reduce the number of complex math and floating point instructions.</p> <p>Though there are no explicit square roots in the shader source, these instructions are produced by the <samp class="codeph">normalize()</samp> and <samp class="codeph">length()</samp> HLSL intrinsics:</p> <div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp"><span class="token number">58</span>  vVertNormal <span class="token operator">=</span> <span class="token function">normalize</span><span class="token punctuation">(</span>vVertNormal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token number">59</span>  vVertTangent <span class="token operator">=</span> <span class="token function">normalize</span><span class="token punctuation">(</span>vVertTangent<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token number">61</span>  float3 vVertBinormal <span class="token operator">=</span> <span class="token function">normalize</span><span class="token punctuation">(</span><span class="token function">cross</span><span class="token punctuation">(</span>vVertTangent<span class="token punctuation">,</span> vVertNormal<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token number">87</span> <span class="token keyword keyword-float">float</span> fCosAngle <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>vLightToPixelNormalized<span class="token punctuation">,</span>  vLightDir <span class="token operator">/</span> <span class="token function">length</span><span class="token punctuation">(</span>vLightDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div><p>You can find a vertex buffer in the Graphics Frame Analyzer in the same way as the constant buffer content using the <strong>Shader Resource</strong> panel. If you look at the vertex buffer content, you can see that Normal and Tangent vertex attributes are normalized on the CPU and therefore can be removed from the shader code.</p>   
                        <div class="col-12 col-md-8">
                            <img src="../img/rushita_img/shader4.png" alt="" width="100%">
                        </div>
                        <p>You can also remove divisions by <samp class="codeph">vFalloffs.y</samp> and <samp class="codeph">vFalloffs.w</samp>:</p> <div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp"><span class="token number">81</span>  <span class="token keyword keyword-float">float</span> fDistFalloff <span class="token operator">=</span> <span class="token function">saturate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>vFalloffs<span class="token punctuation">.</span>x <span class="token operator">-</span> fDist<span class="token punctuation">)</span> <span class="token operator">/</span> vFalloffs<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token number">88</span> <span class="token keyword keyword-float">float</span> fAngleFalloff <span class="token operator">=</span> <span class="token function">saturate</span><span class="token punctuation">(</span><span class="token punctuation">(</span>fCosAngle  <span class="token operator">-</span> vFalloffs<span class="token punctuation">.</span>z<span class="token punctuation">)</span> <span class="token operator">/</span> vFalloffs<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div><p>These divisions are redundant, because their divisors are equal to 1. &nbsp;Generally, such divisions can be replaced &nbsp;with multiplication by the inverse parameter.</p> <p>Light intensity depends on the distance passed from a light position to a pixel. Light attenuation starts from distance 800, the vFalloffs.x parameter. The bounding box size in the sample shader is much smaller than the distance that causes light attenuation.</p> <p>
                            <div class="col-12 col-md-12">
                                <img src="../img/rushita_img/shader5.png" alt="" width="100%">
                            </div>
                        
                        </p> <p>You can remove the distance attenuation without rendering impact, because the <samp class="codeph">saturate(vFalloffs.x - fDist)</samp> &nbsp;expression always equals 1. Upon the distance attenuation removal, the &nbsp;shader contains only one inverse instruction and three inverse square &nbsp;root instructions.</p> <p>Shader performs two subsequent vector-matrix multiplications:</p> <div class="code-toolbar component" data-component="wa_skip_track" data-component-id="1"><div class="toolbar show" style="float: right;"><div class="toolbar-item"><i class="fa-docs"></i></div></div><pre class=" language-cpp line-numbers"><code class=" language-cpp"><span class="token number">103</span>  vLightSpacePos <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>vLightSpacePos<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>lightIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token number">104</span>  vLightSpacePos <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>vLightSpacePos<span class="token punctuation">,</span> lights<span class="token punctuation">[</span>lightIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>projection<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 22.5px;"></span><span style="height: 22.5px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre></div><p>Instead of these subsequent multiplications &nbsp;by view and projection matrices, you can precompute the view-projection &nbsp;matrix on the CPU.</p> <p>As a result, the total number of instructions reduces&nbsp;from 262 to 189.</p> </li> 
                            <li><p>Remove redundant function calls.</p>
                                 <p>Lights 0 and lights 2 in <samp class="codeph">SceneConstantBuffer</samp> have the same parameters, &nbsp;that is the shader performs the same operations twice.</p> 
                                 <div class="col-12 col-md-12">
                                    <img src="../img/rushita_img/shader6.png" alt="" width="100%">
                                </div>
                                
                                <p>Deleting one extra ComputeLightIntensity &nbsp;function call, reduces the number of instructions from 189 to 166.</p> <p>The performed optimizations reduce the number of instructions by 1.6 &nbsp;times compared to the original shader.</p> </li> 
                           </ol>

                        <h2 class="fw-light my-4">Verify Optimizations</h2>
                        <p>To check that shader optimizations do not affect rendering, compare &nbsp;the original and modified render targets using the Diff Visualization mode in the Graphics Frame Analyzer:</p>
                        <div class="col-12 col-md-12">
                            <img src="../img/rushita_img/shader7.png" alt="" width="100%">
                        </div>
                        <p>There are no visual changes, a small difference becomes visible on the Color Histogram scaling, as the operations order in the code slightly changed.</p>
                        <p>The performed optimizations reduce the draw call duration from 549 to &nbsp;367 us, which gives a 1.5x performance gain. The primary bottleneck in the sample frame moves to the L3 cache:</p>
                        <div class="col-12 col-md-12">
                            <img src="../img/rushita_img/shader8.png" alt="" width="100%">
                        </div>

                        <h2 class="fw-light my-4">See Also</h2>
                        <p class="k_plink1 k_bluehover1"><a href="#">How &nbsp;to find a bottleneck with Graphics Frame Analyzer</a></p>
                        <p class="k_plink1 k_bluehover1"><a href="#">Intel® &nbsp;Processor Graphics developer guides</a></p>
                        <p class="k_plink1 k_bluehover1"><a href="#">Gen9 &nbsp;Compute Architecture</a></p>
                        <p class="k_plink1 k_bluehover1"><a href="#">Introduction &nbsp;to GEN Assembly</a></p>
                    </div>
                    <div class="d-md-flex justify-content-between">
                        <div>
                            <p class="k_plink1 text-end pt-2"><a href="#"> <i class="fa-solid fa-arrow-left"></i>
                                Quick Start with Profiling Unreal Engine* Games</a></p>
                        </div>
                        <div>
                            <p class="k_plink1 text-end pt-2"><a href="#">Compile and Link with ITT API<i
                                        class="fa-solid fa-arrow-right"></i> </a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="footer"></div>
    <script>
        // navbar include  
        fetch('../y_index/y_navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });
        // footer include 
        fetch('../y_index/y_footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tabLinks = document.querySelectorAll('.k_tab-container ul li a');
            const tabContents = document.querySelectorAll('.k_custom-tab-content');

            function setActiveTab(tabId) {
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });
                tabLinks.forEach(link => {
                    link.classList.remove('active');
                });

                document.getElementById(tabId).classList.add('active');
                document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            }

            tabLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const tabId = this.getAttribute('data-tab');
                    setActiveTab(tabId);
                });
            });

            setActiveTab('gaming');
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="../js/jquery-3.7.1.js"></script>

    <script src="../js/owl.carousel.min.js"></script>
    <script src="../js/rushita.js"></script>
</body>

</html>