<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flyslice Develops Low-Latency Trading FPGA Card</title>

    <link rel="stylesheet" href="/css/dk_open_FPGA_stack_(OFS)_flyslice_read_the_solution_brief_(us_en).css">
    <link rel="stylesheet" href="/css/dk_nav_header.css">

    <!-- header footer -->
    <link rel="stylesheet" href='/css/yatri.css'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
</head>
<style>
    nav{
        position: relative !important;
    }
    .dk_utility_text_1{
            font-size: .875rem;
            line-height: 1.063rem;
        }
</style>

<body>

    <!-- header -->
    <div id="navbar"></div>

        <!-- --------------------------------------------------------------------- -->
        <section>
            <nav class="mb_sub_nv">
                <div class="mv_breadcrumb">
                    <ol class="mv_spark_breadcrumb_items">
                        <li><p class="mb-0">Flyslice Develops Low-Latency Trading FPGA Card</p></li>
                    </ol>
                </div>
            </nav>
        </section>
        <!-- --------------------------------------------------------------------- -->

    <!-- Optimize Fine-Tuning and Deployment of LLMs on an AI PC -->
    <section>
        <div class="mv_intel_amx_bg_color">
            <div class="container">
                <div class="row mv_intel_amx_content">
                    <div class="col-md-10 mv_intel_amx_item">
                        <div class="mv_intel_amx">
                            <h4 class="mb-4">Flyslice Technologies Accelerates Low-Latency Trading (LLT) Applications with the FA728Q Accelerator Card</h3>
                            <h5>Flyslice Technologies leverages the Intel® Stratix® 10 FPGA and the open-source Open FPGA Stack (OFS) infrastructure to develop their high-performance FPGA acceleration card.</h5>
                        </div>
                    </div>
                    <div class="col-md-2 dk_napa_img">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="container py-5">
        <div class="row">
            <div class="d-flex justify-content-end col-xl-10 py-3 d-md-none">
                <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
            </div>
            <div class="col-lg-3 col-md-4">
                <!-- nav -->
                <div class="VK_client_app_navigation VK_ai_navigation">
                    <div class="justify-content-center align-items-center overflow-hidden flex-nowrap mb-4">
                        <ul class="VK_ai_nav_bar list-unstyled m-0">
                            <li>
                                <a href="#dk_executive_summ" class="text-dark text-decoration-none d-block">
                                    Executive Summary
                                </a>
                            </li>
                            <li>
                                <a href="#dk_back_challenge" class="text-dark text-decoration-none d-block VK_ai_nav_link">
                                    Background and Challenge
                                </a>
                            </li>
                            <li>
                                <a href="#dk_solution"
                                    class="text-dark text-decoration-none d-block VK_ai_nav_link">
                                    Solution
                                </a>
                            </li>
                            <li>
                                <a href="#dk_results" class="text-dark text-decoration-none d-block VK_ai_nav_link">
                                    Results
                                </a>
                            </li>
                            <li>
                                <a href="#dk_get_started" class="text-dark text-decoration-none d-block VK_ai_nav_link">
                                    Get Started
                                </a>
                            </li>
                            <li>
                                <a href="#dk_additional"
                                    class="text-dark text-decoration-none d-block VK_ai_nav_link">
                                    Additional Information
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="dk_things_code_main">
                    <div class="dk_things_code">
                        <p><b>Overview</b></p>
                        <ul>    
                            <li>
                                The FA728Q FPGA-based accelerator card, a high-performance PCIe*-based acceleration card equipped with the Intel® Stratix® 10 FPGA, is shipping today.                 
                            </li>
                            <li>
                                Flyslice uses the OFS base infrastructure to expedite the development of their custom FPGA Interface Manager (FIM), which incorporates an integrated TCP/IP offload engine.
                            </li>
                            <li>
                                The TCP transmit latency of the FA728Q accelerator card is below 100 ns for time-critical network applications such as LLT. 
                            </li>
                        </ul>
                    </div>
                    <p class="mb-0" style="padding-top: .25rem; padding-bottom: .625rem; font-weight: 700;">
                        Chen Ailian</p>
                    <p>System Architect, Hangzhou Flyslice Technologies, Ltd</p>
                    <p class="mb-0" style="padding-top: .25rem; padding-bottom: .625rem; font-weight: 700;">Tamara Lin
                    </p>
                    <p>Product Marketing Specialist, Intel Programmable Solutions Group</p>
                </div>
            </div>
            <div class="col-lg-9 col-md-8">
                <div class="d-md-flex justify-content-end col-xl-10 py-3 d-none">
                    <i class="fa-regular fa-file-lines fs-4 px-2" style="color:#0068B5"></i>
                    <i class="fa-solid fa-print fs-4 px-2 " style="color:#0068B5"></i>
                    <i class="fa-regular fa-envelope fs-4 px-2" style="color:#0068B5"></i>
                </div>
                <div class="col-xl-10">
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>

                    <section id="dk_executive_summ">

                    <p class="intro-paragraph"><img alt="Flyslice logo" height="169" src="/img/darshit_image/flyslice-logo.jpg" style="float:left" width="300"><span style="font-size: 22px !important; font-weight: 300;">Executive Summary</span></p>
                    <p>LLT and other time-sensitive applications are ideal use cases for FPGA acceleration. To address this market, Flyslice Technologies developed the FA728Q FPGA-based acceleration card. The FA728Q acceleration platform provides powerful FPGA resources, abundant storage capacity, and easy-to-use interfaces for end users. To expedite, simplify, and standardize the development of their acceleration board, Flyslice Technologies used the OFS infrastructure, which provides a powerful methodology for the rapid development of FPGA solutions using a ‘take and tailor’ approach. Using the OFS infrastructure, Flyslice Technologies integrates its TCP/IP offload engine into the open-source base FIM, commonly called an FPGA ‘shell’.</p>
                    <p class="mb-0">&nbsp;</p>
                    </section>
                    

                    <section id="dk_back_challenge">
                    <h4 style="font-weight: 300;">Background and Challenge</h4>
                    <p>LLT is the modern practice of electronically executing trades of financial securities with minimal time delay between order entry and order execution. Large investment banks, hedge funds, and other financial institutions commonly use this method. In the past, trades were executed manually instead of electronically, and the execution of transactions varied from seconds to minutes. However, with technological advancements in hardware and corresponding software, systems could be programmed to automatically make buy or sell decisions based on certain market signals and movements, reducing trade execution times to milliseconds. With the broader availability of FPGA-based acceleration products in recent years, transaction times have further reduced to microseconds or sub-microseconds.</p>
                    <p>At the same time, LLT systems increasingly rely on complex trading algorithm models unique to each trading firm’s particular trading strategy for order book interaction. Solutions require general-purpose processors and special-purpose co-processor computing to meet the trading firms’ power and performance requirements, such as in heterogeneous computing. FPGAs are ideal for implementing tailored trading algorithms; however, programming this hardware acceleration device can be time-consuming and difficult to migrate as FPGA families improve and evolve.</p>
                    
                    <p>Flyslice Technologies, a company headquartered in China, is actively addressing the demand for data center heterogeneous acceleration and high-performance computing, including the LLT segment. They bring FPGA- based hardware accelerator platforms, FPGA acceleration intellectual property (IP) functions, and FPGA-based platform design services to market.</p>
                    <p>&nbsp;</p>
                    </section>

                    <section id="dk_solution">
                        <h4 style="font-weight: 300;">Solution</h4>
                        <p>To meet the low-latency, standardization, and portability requirements of LLT applications, Flyslice Technologies developed their FA728Q acceleration card, which instantiates an integrated TCP/IP offload engine. To do this, Flyslice Technologies modified the provided base FIM in the open-source release of OFS. Because of the composable architecture and ‘take and tailor’ approach, OFS enabled them to simply port their algorithm to the FA728Q acceleration card while leveraging the rest of the provided infrastructure, including the OFS software drivers and libraries, only making minimal modifications.</p>
                        <img class="w-100" src="/img/darshit_image/ofs-with-toe-solutions-implemented-on-fa728q-diagram.png" alt="">
                        <h5 class="mb-4" style="text-align: center; padding-top: 10px;">Figure 1. OFS with TCP/IP offload engine (TOE) solution implemented on FA728Q</h5>
                        <p>OFS is an open-source hardware and software infrastructure that provides all the key design, software, and infrastructure components needed to jump-start custom FPGA-based board or workload development. The OFS infrastructure consists of the FIM, commonly called a ‘shell,’ and an Accelerator Functional Unit (AFU) region, a designated region for workload development. Using OFS, FPGA board – or FIM – developers can leverage the open-source infrastructure – or base FIM – to quickly develop a tailored, customized FIM for their board based on the target application or industry. OFS also ships with a oneAPI Accelerator Support Package (ASP), which can be leveraged to abstract the FPGA hardware and design flow. OFS saves developers time, increases portability across FPGA generations, uses industry-standard interfaces, and provides an optional high-level design flow using oneAPI.</p>
                        <p>The FA728Q acceleration card is available today and is a high-end PCIe-based FPGA acceleration board that offers 32 GB onboard DDR4 memory and three QSFP28 sockets to support up to 100 GbE for each interface. The FA728Q acceleration card is also enabled with oneAPI through the OFS infrastructure, so customers can implement their kernels in RTL or migrate algorithms from CPU/GPU to high- level design languages, including C/C++. The Intel oneAPI Base Toolkit also helps synthesize and optimize the kernels to FPGA resources, further improving time to market.</p>
                        <p>Flyslice Technologies has also begun development on Intel Agilex® FPGA-based boards, including the FA927S card using the Intel Agilex 7 FPGA I-Series and the FA925E card using the Intel Agilex 7 FPGA F-Series.</p>
                        <p>The FA927S card features high transceiver rates of up to 116 Gbps, PCIe 5.0 x16, and Compute Express Link (CXL) support. It targets bandwidth-intensive applications and is available now for RTL-based development. The FA927S card will support OFS in the first quarter of 2024.</p>
                        <p>On the other hand, the FA925E card offers four banks of 8 GB and four banks of 4 GB DDR4, totaling 48 GB onboard memory. It is designed for applications with high external memory capacity and bandwidth requirements. The card provides complete support for OFS and will be available by the end of 2023. See Table 1. to compare the three acceleration cards.</p>
                        <p style="text-align:center"><strong>Table 1. Comparison Table</strong></p>
                        <table class="dk_FPGA_stack_table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>
                                        <p style="text-align:center"><img alt="FA728Q board" height="88" src="/img/darshit_image/fa728q-board.png" width="121"></p>
                                        <p><a class="b_special_a1" href="">FA728Q</a></p>
                                    </th>
                                    <th>
                                        <p style="text-align:center"><img alt="FA927S board" height="88" src="/img/darshit_image/fa927s-board.png" width="113"></p>
                                        <p><a class="b_special_a1" href=""><strong>FA927S</strong></a></p>
                                    </th>
                                    <th>
                                        <p style="text-align:center"><img alt="FA925E board" height="88" src="/img/darshit_image/fa925e-board.png" width="152"></p>
                                        <p><a class="b_special_a1" href=""><strong>FA925E</strong></a></p>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Power</td>
                                    <td>215 W</td>
                                    <td>200 W</td>
                                    <td>150 W</td>
                                </tr>
                                <tr>
                                    <td>Cooling Requirement</td>
                                    <td>Active/passive (optional)</td>
                                    <td>Active/passive (optional)</td>
                                    <td>Active/passive (optional)</td>
                                </tr>
                                <tr>
                                    <td>Form Factor</td>
                                    <td>3/4 length, full-height, dual-slot PCIe</td>
                                    <td>Half-length, full-height, dual-slot PCIe</td>
                                    <td>3/4 length, full-height, dual-slot PCIe</td>
                                </tr>
                                <tr>
                                    <td>Networking Interfaces</td>
                                    <td>Triple QSFP28 ports: 3 x 100 GbE / 40 GbE</td>
                                    <td>Dual QSFP28 ports: 2 x 100 GbE / 40 GbE</td>
                                    <td>Dual QSFP28 ports 2 x 100 GbE / 40 GbE</td>
                                </tr>
                                <tr>
                                    <td>Memory Interfaces</td>
                                    <td>4 x 8 GB DDR4, 2,400 MHz with ECC</td>
                                    <td>4 x 8 GB DDR4, 2,400 MHz with ECC</td>
                                    <td>4 x 8 GB and 4 x 4 GB DDR4, 2,400 MHz with ECC</td>
                                </tr>
                                <tr>
                                    <td>PCIe Interfaces</td>
                                    <td>-</td>
                                    <td>5.0 x16</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>Extension Interfaces</td>
                                    <td>-</td>
                                    <td>2 x8 slim SAS connectors for PCIe 4.0 extension</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>Management Port</td>
                                    <td>Micro-USB</td>
                                    <td>Micro-USB</td>
                                    <td>Micro-USB</td>
                                </tr>
                                <tr>
                                    <td>FPGA Device</td>
                                    <td>1SX280HN2F43E2VG</td>
                                    <td>AGIB027R29A1E2VR3</td>
                                    <td>AGFB027R25A2E2V</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>&nbsp;</p>
                    </section>

                    <section id="dk_results">
                        <h4 style="font-weight: 300;">Results</h4>
                        <p>The offload engine IP function implemented by Flyslice Technologies on the FA728Q card is optimized for latency and performance to meet LLT requirements. In speedup mode, the TCP transmit latency is less than 100 ns, ensuring stable and low-latency connections for time-critical network applications. Table 2. shows the measured latency for various connections. Table 3. shows the high-bandwidth PCIe 3.0 x16 and DDR interfaces.</p>
                        <table class="dk_FPGA_stack_table" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th style="text-align:center; width:688px">Specification</th>
                                    <th style="text-align:center; width:770px">Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Maximum TCP/UDP connections</td>
                                    <td>63 for TCP, 63 for UDP</td>
                                </tr>
                                <tr>
                                    <td>TCP TX latency (speedup mode)</td>
                                    <td>15 clocks</td>
                                </tr>
                                <tr>
                                    <td>TCP TX latency (non-speedup mode)</td>
                                    <td>46 clocks</td>
                                </tr>
                                <tr>
                                    <td>TCP RX latency</td>
                                    <td>32 clocks</td>
                                </tr>
                                <tr>
                                    <td>UDP TX latency</td>
                                    <td>42 clocks for a 512-byte packet 18 clocks for 128-byte packet</td>
                                </tr>
                                <tr>
                                    <td>UDP RX latency</td>
                                    <td>23 clocks</td>
                                </tr>
                                <tr>
                                    <td>Loopback latency for oneAPI kernels</td>
                                    <td>18 clocks</td>
                                </tr>
                            </tbody>
                        </table>
                        <p style="text-align:center">Table 2. TCP/IP Offload Engine (TOE) specification</p>
                        <p class="dk_utility_text_1"><strong>Note:</strong></p>
                        <p class="dk_utility_text_1">1. One clock period is 6.4ns</p>
                        <p class="dk_utility_text_1">2. TX latency is counted from the falling edge of packet EOP to valid data in XGMII TXC</p>
                        <p class="dk_utility_text_1">3. RX latency is counted from packet SOP to valid data in XGMII RXC</p>
                        <table class="dk_FPGA_stack_table" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th style="text-align:center; width:770px">Data Path</th>
                                    <th style="text-align:center; width:770px">Bandwidths</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Host write memory</td>
                                    <td>8,287.68 MBps for 8,192-KB block</td>
                                </tr>
                                <tr>
                                    <td>Host read memory</td>
                                    <td>8,241.19 MBps for 8,192-KB block</td>
                                </tr>
                                <tr>
                                    <td>Kernel write memory</td>
                                    <td>16,909.6 MBps for 4,096-MB block</td>
                                </tr>
                                <tr>
                                    <td>Kernel read memory</td>
                                    <td>17,340.3 MBps for 4,096-MB block</td>
                                </tr>
                            </tbody>
                        </table>
                        <p style="text-align:center">Table 3. Bandwidth provided by&nbsp;each interface</p>

                        <img class="w-100" src="/img/darshit_image/high-bandwidth-data-path-in-ofs-platform-diagram.png" alt="">
                        <h5 style="text-align: center;">Figure 2. High-bandwidth data paths in the OFS platform</h5>

                        <p>&nbsp;</p>
                        <div style="display: flex;padding: 35px 30px;">
                            <div class="">
                                <i style="font-size: 5rem; color: #E5E6E6; padding-right: 20px;" class="fa-solid fa-quote-left"></i>
                            </div>
                            <div class="">
                                <p style="color:gray;">OFS helped us to build a required acceleration platform more easily and quickly for customers, from software APIs drivers to underlying hardware as a full set of equipment.</p>
                                <p>Cheng Ailian, Flyslice Technologies, ltd.</p>
                            </div>
                        </div>
                        <p>&nbsp;</p>
                    </section>

                    <section id="dk_get_started">
                        <h4 style="font-weight: 300;">How to Get Started with FPGA Acceleration Using OFS</h4>
                        <p>FPGA developers can leverage the FA728Q accelerator card and OFS-enabled board, using the open-source documentation and source code to start building their custom workload.</p>
                        <p>The following table outlines how a developer can start FPGA-based workload development using the Flyslice Technologies acceleration board.</p>
                        <table class="dk_FPGA_stack_table" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th colspan="2">Leverage FPGA Acceleration for Your Workload</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Step 1: Choose a board</td>
                                    <td>View Flyslice Technologies' OFS-enabled board, the <a class="b_special_a1" href="">FA728Q accelerator card</a></td>
                                </tr>
                                <tr>
                                    <td>Step 2: Evaluate OFS open-source resources</td>
                                    <td>Flyslice Technologies will provide the corresponding version of the OFS technical documentation.</td>
                                </tr>
                                <tr>
                                    <td>Step 3: Access open-source hardware and software code</td>
                                    <td>Flyslice Technologies will provide the corresponding OFS software and hardware code. This is their specific distribution of the OFS base code provided by Intel.</td>
                                </tr>
                                <tr>
                                    <td>Step 4: Develop workload using RTL or C/C++ (using oneAPI)</td>
                                    <td>
                                        <p>Follow the OFS RTL flow</p>
                                        <p>OR</p>
                                        <p>OFS enables the compulation of oneAPI kernels. Utilize the oneAPI development flow and build FPGA workloads in C/C++.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                </div>
            </div>
            <p class="mb-0">&nbsp;</p>
        </div>
    </section>

     <!-- Related Links -->
    <section id="dk_additional">
        <div class="mv_discover_more_padd" style="background-color: #F7F7F7;">
            <div class="container">
                <h2 style="font-weight: 300; margin-bottom: 1rem;">Related Links</h2>
                <div class="row" style="row-gap: 1rem;">
                    <div class="col-md-4 col-sm-6">
                        <h5><b>Products</b></h5>
                        <ul style="padding-left: 1rem;">
                            <li>   
                                <a class="b_special_a1" href="">FA728Q: High-performance PCIe-based acceleration card equipped with Intel Stratix 10 FPGA</a>
                            </li>
                            <li>   
                                <a class="b_special_a1" href="">OFS Board Catalog - third-party OFS-enabled boards</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <h5><b>Documentation</b></h5>
                        <ul style="padding-left: 1rem;">
                            <li>   
                                <a class="b_special_a1" href="">OFS open source code and documentation</a>
                            </li>
                            <li>
                                <a class="b_special_a1" href="">Base OFS source code and documentation provided by Intel</a>  
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <h5><b>Learn More</b></h5>
                        <ul style="padding-left: 1rem;">
                            <li>
                                <a class="b_special_a1" href="">Open FPGA Stack (OFS)</a>
                            </li>
                            <li>
                                <a class="b_special_a1" href="">Learn more about Flyslice Technologies</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- footer -->
    <div id="footer"></div>

    <!-- script header and footer -->
    <script>
        // navbar include  
        fetch('/y_index/y_navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar').innerHTML = data;
            });
        // footer include 
        fetch('/y_index/y_footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });
    </script>

    <!-- nav script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const nav = document.querySelector('.VK_client_app_navigation');
            const navLinks = document.querySelectorAll('.VK_ai_nav_bar a');
            const sections = document.querySelectorAll('section[id]');
            let navOffset = nav.offsetTop;

            // Add smooth scrolling to all links
            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Sticky Navigation
            window.addEventListener('scroll', () => {
                if (window.pageYOffset >= navOffset) {
                    nav.classList.add('VK_sticky_nav_bar');
                } else {
                    nav.classList.remove('VK_sticky_nav_bar');
                }
                // Section highlighting
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - nav.clientHeight;
                    const sectionHeight = section.clientHeight;
                    console.log(sectionTop);
                    console.log(sectionHeight);
                    if (window.pageYOffset >= sectionTop && window.pageYOffset <= sectionTop + sectionHeight) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${section.id}`) {
                                link.classList.add('active');

                                // Ensure the active link is visible in the nav bar
                                const navBar = document.querySelector('.VK_ai_nav_bar');
                                const activeLink = document.querySelector('.VK_ai_nav_bar a.active');
                                const linkRect = activeLink.getBoundingClientRect();
                                const navBarRect = navBar.getBoundingClientRect();

                                if (linkRect.left < navBarRect.left || linkRect.right > navBarRect.right) {
                                    activeLink.scrollIntoView({ inline: 'center', behavior: 'smooth' });
                                }
                            }
                        });
                    }
                });
            });
        });
    </script>

    <!-- copy script -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".mv_copy_icon").forEach((icon) => {
                icon.addEventListener("click", async function () {
                    try {
                        const toolbar = this.closest(".mv_code_toolbar");
                        const codeBlock = toolbar.querySelector(".code-content");
                        const codeContent = codeBlock.innerText;

                        // Use Clipboard API to copy text
                        await navigator.clipboard.writeText(codeContent);

                        // Hide the copy icon and show the "Copied!" message
                        const message = toolbar.querySelector(".mv_copy_message");
                        this.classList.add("hidden"); // Hide the copy icon
                        message.classList.remove("hidden"); // Show the "Copied!" message

                        // Hide the message and show the icon again after 2 seconds
                        setTimeout(() => {
                            message.classList.add("hidden");
                            this.classList.remove("hidden");
                        }, 2000); // Adjust delay as needed

                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                    }
                });
            });
        });
    </script>

</body>

</html>